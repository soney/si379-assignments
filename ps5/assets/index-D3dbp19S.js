var du=(r,e)=>(e=Symbol[r])?e:Symbol.for("Symbol."+r),je=Math.pow;var Du=(r,e,n)=>new Promise((u,t)=>{var i=D=>{try{p(n.next(D))}catch(g){t(g)}},h=D=>{try{p(n.throw(D))}catch(g){t(g)}},p=D=>D.done?u(D.value):Promise.resolve(D.value).then(i,h);p((n=n.apply(r,e)).next())}),uc=function(r,e){this[0]=r,this[1]=e};var gu=r=>{var e=r[du("asyncIterator")],n=!1,u,t={};return e==null?(e=r[du("iterator")](),u=i=>t[i]=h=>e[i](h)):(e=e.call(r),u=i=>t[i]=h=>{if(n){if(n=!1,i==="throw")throw h;return h}return n=!0,{done:!1,value:new uc(new Promise(p=>{var D=e[i](h);if(!(D instanceof Object))throw TypeError("Object expected");p(D)}),1)}}),t[du("iterator")]=()=>t,u("next"),"throw"in e?u("throw"):t.throw=i=>{throw i},"return"in e&&u("return"),t};(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}})();var ic=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Iu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ia={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(r,e){(function(n,u){r.exports=u()})(ic,function(){for(var n=function(a,c,d){return c===void 0&&(c=0),d===void 0&&(d=1),a<c?c:a>d?d:a},u=n,t=function(a){a._clipped=!1,a._unclipped=a.slice(0);for(var c=0;c<=3;c++)c<3?((a[c]<0||a[c]>255)&&(a._clipped=!0),a[c]=u(a[c],0,255)):c===3&&(a[c]=u(a[c],0,1));return a},i={},h=0,p=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];h<p.length;h+=1){var D=p[h];i["[object "+D+"]"]=D.toLowerCase()}var g=function(a){return i[Object.prototype.toString.call(a)]||"object"},s=g,o=function(a,c){return c===void 0&&(c=null),a.length>=3?Array.prototype.slice.call(a):s(a[0])=="object"&&c?c.split("").filter(function(d){return a[0][d]!==void 0}).map(function(d){return a[0][d]}):a[0]},l=g,v=function(a){if(a.length<2)return null;var c=a.length-1;return l(a[c])=="string"?a[c].toLowerCase():null},y=Math.PI,f={clip_rgb:t,limit:n,type:g,unpack:o,last:v,PI:y,TWOPI:y*2,PITHIRD:y/3,DEG2RAD:y/180,RAD2DEG:180/y},F={format:{},autodetect:[]},m=f.last,A=f.clip_rgb,b=f.type,B=F,C=function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];var E=this;if(b(c[0])==="object"&&c[0].constructor&&c[0].constructor===this.constructor)return c[0];var M=m(c),S=!1;if(!M){S=!0,B.sorted||(B.autodetect=B.autodetect.sort(function(V,rr){return rr.p-V.p}),B.sorted=!0);for(var N=0,$=B.autodetect;N<$.length;N+=1){var O=$[N];if(M=O.test.apply(O,c),M)break}}if(B.format[M]){var L=B.format[M].apply(null,S?c:c.slice(0,-1));E._rgb=A(L)}else throw new Error("unknown format: "+c);E._rgb.length===3&&E._rgb.push(1)};C.prototype.toString=function(){return b(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var w=C,T=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(T.Color,[null].concat(a)))};T.Color=w,T.version="2.4.2";var I=T,P=f.unpack,U=Math.max,k=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=P(a,"rgb"),E=d[0],M=d[1],S=d[2];E=E/255,M=M/255,S=S/255;var N=1-U(E,U(M,S)),$=N<1?1/(1-N):0,O=(1-E-N)*$,L=(1-M-N)*$,V=(1-S-N)*$;return[O,L,V,N]},R=k,ir=f.unpack,nr=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=ir(a,"cmyk");var d=a[0],E=a[1],M=a[2],S=a[3],N=a.length>4?a[4]:1;return S===1?[0,0,0,N]:[d>=1?0:255*(1-d)*(1-S),E>=1?0:255*(1-E)*(1-S),M>=1?0:255*(1-M)*(1-S),N]},er=nr,Q=I,fr=w,or=F,sr=f.unpack,vr=f.type,Nr=R;fr.prototype.cmyk=function(){return Nr(this._rgb)},Q.cmyk=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(fr,[null].concat(a,["cmyk"])))},or.format.cmyk=er,or.autodetect.push({p:2,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=sr(a,"cmyk"),vr(a)==="array"&&a.length===4)return"cmyk"}});var Er=f.unpack,Fr=f.last,Rr=function(a){return Math.round(a*100)/100},Ur=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Er(a,"hsla"),E=Fr(a)||"lsa";return d[0]=Rr(d[0]||0),d[1]=Rr(d[1]*100)+"%",d[2]=Rr(d[2]*100)+"%",E==="hsla"||d.length>3&&d[3]<1?(d[3]=d.length>3?d[3]:1,E="hsla"):d.length=3,E+"("+d.join(",")+")"},Wr=Ur,Ir=f.unpack,ie=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=Ir(a,"rgba");var d=a[0],E=a[1],M=a[2];d/=255,E/=255,M/=255;var S=Math.min(d,E,M),N=Math.max(d,E,M),$=(N+S)/2,O,L;return N===S?(O=0,L=Number.NaN):O=$<.5?(N-S)/(N+S):(N-S)/(2-N-S),d==N?L=(E-M)/(N-S):E==N?L=2+(M-d)/(N-S):M==N&&(L=4+(d-E)/(N-S)),L*=60,L<0&&(L+=360),a.length>3&&a[3]!==void 0?[L,O,$,a[3]]:[L,O,$]},Br=ie,Mr=f.unpack,ve=f.last,Kr=Wr,xr=Br,Gr=Math.round,pe=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Mr(a,"rgba"),E=ve(a)||"rgb";return E.substr(0,3)=="hsl"?Kr(xr(d),E):(d[0]=Gr(d[0]),d[1]=Gr(d[1]),d[2]=Gr(d[2]),(E==="rgba"||d.length>3&&d[3]<1)&&(d[3]=d.length>3?d[3]:1,E="rgba"),E+"("+d.slice(0,E==="rgb"?3:4).join(",")+")")},Fe=pe,Ee=f.unpack,Me=Math.round,Pe=function(){for(var a,c=[],d=arguments.length;d--;)c[d]=arguments[d];c=Ee(c,"hsl");var E=c[0],M=c[1],S=c[2],N,$,O;if(M===0)N=$=O=S*255;else{var L=[0,0,0],V=[0,0,0],rr=S<.5?S*(1+M):S+M-S*M,Y=2*S-rr,ur=E/360;L[0]=ur+1/3,L[1]=ur,L[2]=ur-1/3;for(var tr=0;tr<3;tr++)L[tr]<0&&(L[tr]+=1),L[tr]>1&&(L[tr]-=1),6*L[tr]<1?V[tr]=Y+(rr-Y)*6*L[tr]:2*L[tr]<1?V[tr]=rr:3*L[tr]<2?V[tr]=Y+(rr-Y)*(2/3-L[tr])*6:V[tr]=Y;a=[Me(V[0]*255),Me(V[1]*255),Me(V[2]*255)],N=a[0],$=a[1],O=a[2]}return c.length>3?[N,$,O,c[3]]:[N,$,O,1]},et=Pe,xt=et,_t=F,_=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,x=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,z=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,q=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,G=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Z=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,j=Math.round,J=function(a){a=a.toLowerCase().trim();var c;if(_t.format.named)try{return _t.format.named(a)}catch(tr){}if(c=a.match(_)){for(var d=c.slice(1,4),E=0;E<3;E++)d[E]=+d[E];return d[3]=1,d}if(c=a.match(x)){for(var M=c.slice(1,5),S=0;S<4;S++)M[S]=+M[S];return M}if(c=a.match(z)){for(var N=c.slice(1,4),$=0;$<3;$++)N[$]=j(N[$]*2.55);return N[3]=1,N}if(c=a.match(q)){for(var O=c.slice(1,5),L=0;L<3;L++)O[L]=j(O[L]*2.55);return O[3]=+O[3],O}if(c=a.match(G)){var V=c.slice(1,4);V[1]*=.01,V[2]*=.01;var rr=xt(V);return rr[3]=1,rr}if(c=a.match(Z)){var Y=c.slice(1,4);Y[1]*=.01,Y[2]*=.01;var ur=xt(Y);return ur[3]=+c[4],ur}};J.test=function(a){return _.test(a)||x.test(a)||z.test(a)||q.test(a)||G.test(a)||Z.test(a)};var K=J,X=I,Ar=w,$r=F,Vr=f.type,ce=Fe,te=K;Ar.prototype.css=function(a){return ce(this._rgb,a)},X.css=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Ar,[null].concat(a,["css"])))},$r.format.css=te,$r.autodetect.push({p:5,test:function(a){for(var c=[],d=arguments.length-1;d-- >0;)c[d]=arguments[d+1];if(!c.length&&Vr(a)==="string"&&te.test(a))return"css"}});var de=w,me=I,ze=F,tt=f.unpack;ze.format.gl=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=tt(a,"rgba");return d[0]*=255,d[1]*=255,d[2]*=255,d},me.gl=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(de,[null].concat(a,["gl"])))},de.prototype.gl=function(){var a=this._rgb;return[a[0]/255,a[1]/255,a[2]/255,a[3]]};var wn=f.unpack,bn=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=wn(a,"rgb"),E=d[0],M=d[1],S=d[2],N=Math.min(E,M,S),$=Math.max(E,M,S),O=$-N,L=O*100/255,V=N/(255-O)*100,rr;return O===0?rr=Number.NaN:(E===$&&(rr=(M-S)/O),M===$&&(rr=2+(S-E)/O),S===$&&(rr=4+(E-M)/O),rr*=60,rr<0&&(rr+=360)),[rr,L,V]},yn=bn,Fn=f.unpack,En=Math.floor,An=function(){for(var a,c,d,E,M,S,N=[],$=arguments.length;$--;)N[$]=arguments[$];N=Fn(N,"hcg");var O=N[0],L=N[1],V=N[2],rr,Y,ur;V=V*255;var tr=L*255;if(L===0)rr=Y=ur=V;else{O===360&&(O=0),O>360&&(O-=360),O<0&&(O+=360),O/=60;var pr=En(O),gr=O-pr,wr=V*(1-L),_r=wr+tr*(1-gr),ae=wr+tr*gr,ue=wr+tr;switch(pr){case 0:a=[ue,ae,wr],rr=a[0],Y=a[1],ur=a[2];break;case 1:c=[_r,ue,wr],rr=c[0],Y=c[1],ur=c[2];break;case 2:d=[wr,ue,ae],rr=d[0],Y=d[1],ur=d[2];break;case 3:E=[wr,_r,ue],rr=E[0],Y=E[1],ur=E[2];break;case 4:M=[ae,wr,ue],rr=M[0],Y=M[1],ur=M[2];break;case 5:S=[ue,wr,_r],rr=S[0],Y=S[1],ur=S[2];break}}return[rr,Y,ur,N.length>3?N[3]:1]},Cn=An,_n=f.unpack,Nn=f.type,Bn=I,$t=w,Ot=F,Mn=yn;$t.prototype.hcg=function(){return Mn(this._rgb)},Bn.hcg=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply($t,[null].concat(a,["hcg"])))},Ot.format.hcg=Cn,Ot.autodetect.push({p:1,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=_n(a,"hcg"),Nn(a)==="array"&&a.length===3)return"hcg"}});var Sn=f.unpack,Tn=f.last,nt=Math.round,xn=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Sn(a,"rgba"),E=d[0],M=d[1],S=d[2],N=d[3],$=Tn(a)||"auto";N===void 0&&(N=1),$==="auto"&&($=N<1?"rgba":"rgb"),E=nt(E),M=nt(M),S=nt(S);var O=E<<16|M<<8|S,L="000000"+O.toString(16);L=L.substr(L.length-6);var V="0"+nt(N*255).toString(16);switch(V=V.substr(V.length-2),$.toLowerCase()){case"rgba":return"#"+L+V;case"argb":return"#"+V+L;default:return"#"+L}},It=xn,$n=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,On=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,In=function(a){if(a.match($n)){(a.length===4||a.length===7)&&(a=a.substr(1)),a.length===3&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);var c=parseInt(a,16),d=c>>16,E=c>>8&255,M=c&255;return[d,E,M,1]}if(a.match(On)){(a.length===5||a.length===9)&&(a=a.substr(1)),a.length===4&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]);var S=parseInt(a,16),N=S>>24&255,$=S>>16&255,O=S>>8&255,L=Math.round((S&255)/255*100)/100;return[N,$,O,L]}throw new Error("unknown hex color: "+a)},Pt=In,Pn=I,zt=w,zn=f.type,kt=F,kn=It;zt.prototype.hex=function(a){return kn(this._rgb,a)},Pn.hex=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(zt,[null].concat(a,["hex"])))},kt.format.hex=Pt,kt.autodetect.push({p:4,test:function(a){for(var c=[],d=arguments.length-1;d-- >0;)c[d]=arguments[d+1];if(!c.length&&zn(a)==="string"&&[3,4,5,6,7,8,9].indexOf(a.length)>=0)return"hex"}});var Rn=f.unpack,ke=f.TWOPI,Cr=Math.min,le=Math.sqrt,Ln=Math.acos,ut=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Rn(a,"rgb"),E=d[0],M=d[1],S=d[2];E/=255,M/=255,S/=255;var N,$=Cr(E,M,S),O=(E+M+S)/3,L=O>0?1-$/O:0;return L===0?N=NaN:(N=(E-M+(E-S))/2,N/=le((E-M)*(E-M)+(E-S)*(M-S)),N=Ln(N),S>M&&(N=ke-N),N/=ke),[N*360,L,O]},We=ut,qn=f.unpack,Un=f.limit,it=f.TWOPI,Zn=f.PITHIRD,at=Math.cos,zo=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=qn(a,"hsi");var d=a[0],E=a[1],M=a[2],S,N,$;return isNaN(d)&&(d=0),isNaN(E)&&(E=0),d>360&&(d-=360),d<0&&(d+=360),d/=360,d<1/3?($=(1-E)/3,S=(1+E*at(it*d)/at(Zn-it*d))/3,N=1-($+S)):d<2/3?(d-=1/3,S=(1-E)/3,N=(1+E*at(it*d)/at(Zn-it*d))/3,$=1-(S+N)):(d-=2/3,N=(1-E)/3,$=(1+E*at(it*d)/at(Zn-it*d))/3,S=1-(N+$)),S=Un(M*S*3),N=Un(M*N*3),$=Un(M*$*3),[S*255,N*255,$*255,a.length>3?a[3]:1]},ko=zo,Ro=f.unpack,Lo=f.type,qo=I,Vu=w,Yu=F,Uo=We;Vu.prototype.hsi=function(){return Uo(this._rgb)},qo.hsi=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Vu,[null].concat(a,["hsi"])))},Yu.format.hsi=ko,Yu.autodetect.push({p:2,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=Ro(a,"hsi"),Lo(a)==="array"&&a.length===3)return"hsi"}});var Zo=f.unpack,Ho=f.type,Go=I,Wu=w,Xu=F,Vo=Br;Wu.prototype.hsl=function(){return Vo(this._rgb)},Go.hsl=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Wu,[null].concat(a,["hsl"])))},Xu.format.hsl=et,Xu.autodetect.push({p:2,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=Zo(a,"hsl"),Ho(a)==="array"&&a.length===3)return"hsl"}});var Yo=f.unpack,Wo=Math.min,Xo=Math.max,Jo=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=Yo(a,"rgb");var d=a[0],E=a[1],M=a[2],S=Wo(d,E,M),N=Xo(d,E,M),$=N-S,O,L,V;return V=N/255,N===0?(O=Number.NaN,L=0):(L=$/N,d===N&&(O=(E-M)/$),E===N&&(O=2+(M-d)/$),M===N&&(O=4+(d-E)/$),O*=60,O<0&&(O+=360)),[O,L,V]},Qo=Jo,jo=f.unpack,Ko=Math.floor,rs=function(){for(var a,c,d,E,M,S,N=[],$=arguments.length;$--;)N[$]=arguments[$];N=jo(N,"hsv");var O=N[0],L=N[1],V=N[2],rr,Y,ur;if(V*=255,L===0)rr=Y=ur=V;else{O===360&&(O=0),O>360&&(O-=360),O<0&&(O+=360),O/=60;var tr=Ko(O),pr=O-tr,gr=V*(1-L),wr=V*(1-L*pr),_r=V*(1-L*(1-pr));switch(tr){case 0:a=[V,_r,gr],rr=a[0],Y=a[1],ur=a[2];break;case 1:c=[wr,V,gr],rr=c[0],Y=c[1],ur=c[2];break;case 2:d=[gr,V,_r],rr=d[0],Y=d[1],ur=d[2];break;case 3:E=[gr,wr,V],rr=E[0],Y=E[1],ur=E[2];break;case 4:M=[_r,gr,V],rr=M[0],Y=M[1],ur=M[2];break;case 5:S=[V,gr,wr],rr=S[0],Y=S[1],ur=S[2];break}}return[rr,Y,ur,N.length>3?N[3]:1]},es=rs,ts=f.unpack,ns=f.type,us=I,Ju=w,Qu=F,is=Qo;Ju.prototype.hsv=function(){return is(this._rgb)},us.hsv=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Ju,[null].concat(a,["hsv"])))},Qu.format.hsv=es,Qu.autodetect.push({p:2,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=ts(a,"hsv"),ns(a)==="array"&&a.length===3)return"hsv"}});var Rt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ot=Rt,as=f.unpack,ju=Math.pow,os=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=as(a,"rgb"),E=d[0],M=d[1],S=d[2],N=ss(E,M,S),$=N[0],O=N[1],L=N[2],V=116*O-16;return[V<0?0:V,500*($-O),200*(O-L)]},Hn=function(a){return(a/=255)<=.04045?a/12.92:ju((a+.055)/1.055,2.4)},Gn=function(a){return a>ot.t3?ju(a,1/3):a/ot.t2+ot.t0},ss=function(a,c,d){a=Hn(a),c=Hn(c),d=Hn(d);var E=Gn((.4124564*a+.3575761*c+.1804375*d)/ot.Xn),M=Gn((.2126729*a+.7151522*c+.072175*d)/ot.Yn),S=Gn((.0193339*a+.119192*c+.9503041*d)/ot.Zn);return[E,M,S]},Ku=os,st=Rt,fs=f.unpack,cs=Math.pow,ls=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=fs(a,"lab");var d=a[0],E=a[1],M=a[2],S,N,$,O,L,V;return N=(d+16)/116,S=isNaN(E)?N:N+E/500,$=isNaN(M)?N:N-M/200,N=st.Yn*Yn(N),S=st.Xn*Yn(S),$=st.Zn*Yn($),O=Vn(3.2404542*S-1.5371385*N-.4985314*$),L=Vn(-.969266*S+1.8760108*N+.041556*$),V=Vn(.0556434*S-.2040259*N+1.0572252*$),[O,L,V,a.length>3?a[3]:1]},Vn=function(a){return 255*(a<=.00304?12.92*a:1.055*cs(a,1/2.4)-.055)},Yn=function(a){return a>st.t1?a*a*a:st.t2*(a-st.t0)},ri=ls,hs=f.unpack,vs=f.type,ps=I,ei=w,ti=F,ds=Ku;ei.prototype.lab=function(){return ds(this._rgb)},ps.lab=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(ei,[null].concat(a,["lab"])))},ti.format.lab=ri,ti.autodetect.push({p:2,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=hs(a,"lab"),vs(a)==="array"&&a.length===3)return"lab"}});var Ds=f.unpack,gs=f.RAD2DEG,ms=Math.sqrt,ws=Math.atan2,bs=Math.round,ys=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Ds(a,"lab"),E=d[0],M=d[1],S=d[2],N=ms(M*M+S*S),$=(ws(S,M)*gs+360)%360;return bs(N*1e4)===0&&($=Number.NaN),[E,N,$]},ni=ys,Fs=f.unpack,Es=Ku,As=ni,Cs=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Fs(a,"rgb"),E=d[0],M=d[1],S=d[2],N=Es(E,M,S),$=N[0],O=N[1],L=N[2];return As($,O,L)},_s=Cs,Ns=f.unpack,Bs=f.DEG2RAD,Ms=Math.sin,Ss=Math.cos,Ts=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Ns(a,"lch"),E=d[0],M=d[1],S=d[2];return isNaN(S)&&(S=0),S=S*Bs,[E,Ss(S)*M,Ms(S)*M]},ui=Ts,xs=f.unpack,$s=ui,Os=ri,Is=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=xs(a,"lch");var d=a[0],E=a[1],M=a[2],S=$s(d,E,M),N=S[0],$=S[1],O=S[2],L=Os(N,$,O),V=L[0],rr=L[1],Y=L[2];return[V,rr,Y,a.length>3?a[3]:1]},ii=Is,Ps=f.unpack,zs=ii,ks=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Ps(a,"hcl").reverse();return zs.apply(void 0,d)},Rs=ks,Ls=f.unpack,qs=f.type,ai=I,Lt=w,Wn=F,oi=_s;Lt.prototype.lch=function(){return oi(this._rgb)},Lt.prototype.hcl=function(){return oi(this._rgb).reverse()},ai.lch=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Lt,[null].concat(a,["lch"])))},ai.hcl=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Lt,[null].concat(a,["hcl"])))},Wn.format.lch=ii,Wn.format.hcl=Rs,["lch","hcl"].forEach(function(a){return Wn.autodetect.push({p:2,test:function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];if(c=Ls(c,a),qs(c)==="array"&&c.length===3)return a}})});var Us={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},si=Us,Zs=w,fi=F,Hs=f.type,Nt=si,Gs=Pt,Vs=It;Zs.prototype.name=function(){for(var a=Vs(this._rgb,"rgb"),c=0,d=Object.keys(Nt);c<d.length;c+=1){var E=d[c];if(Nt[E]===a)return E.toLowerCase()}return a},fi.format.named=function(a){if(a=a.toLowerCase(),Nt[a])return Gs(Nt[a]);throw new Error("unknown color name: "+a)},fi.autodetect.push({p:5,test:function(a){for(var c=[],d=arguments.length-1;d-- >0;)c[d]=arguments[d+1];if(!c.length&&Hs(a)==="string"&&Nt[a.toLowerCase()])return"named"}});var Ys=f.unpack,Ws=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Ys(a,"rgb"),E=d[0],M=d[1],S=d[2];return(E<<16)+(M<<8)+S},Xs=Ws,Js=f.type,Qs=function(a){if(Js(a)=="number"&&a>=0&&a<=16777215){var c=a>>16,d=a>>8&255,E=a&255;return[c,d,E,1]}throw new Error("unknown num color: "+a)},js=Qs,Ks=I,ci=w,li=F,rf=f.type,ef=Xs;ci.prototype.num=function(){return ef(this._rgb)},Ks.num=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(ci,[null].concat(a,["num"])))},li.format.num=js,li.autodetect.push({p:5,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a.length===1&&rf(a[0])==="number"&&a[0]>=0&&a[0]<=16777215)return"num"}});var tf=I,Xn=w,hi=F,vi=f.unpack,pi=f.type,di=Math.round;Xn.prototype.rgb=function(a){return a===void 0&&(a=!0),a===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(di)},Xn.prototype.rgba=function(a){return a===void 0&&(a=!0),this._rgb.slice(0,4).map(function(c,d){return d<3?a===!1?c:di(c):c})},tf.rgb=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Xn,[null].concat(a,["rgb"])))},hi.format.rgb=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=vi(a,"rgba");return d[3]===void 0&&(d[3]=1),d},hi.autodetect.push({p:3,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=vi(a,"rgba"),pi(a)==="array"&&(a.length===3||a.length===4&&pi(a[3])=="number"&&a[3]>=0&&a[3]<=1))return"rgb"}});var qt=Math.log,nf=function(a){var c=a/100,d,E,M;return c<66?(d=255,E=c<6?0:-155.25485562709179-.44596950469579133*(E=c-2)+104.49216199393888*qt(E),M=c<20?0:-254.76935184120902+.8274096064007395*(M=c-10)+115.67994401066147*qt(M)):(d=351.97690566805693+.114206453784165*(d=c-55)-40.25366309332127*qt(d),E=325.4494125711974+.07943456536662342*(E=c-50)-28.0852963507957*qt(E),M=255),[d,E,M,1]},Di=nf,uf=Di,af=f.unpack,of=Math.round,sf=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];for(var d=af(a,"rgb"),E=d[0],M=d[2],S=1e3,N=4e4,$=.4,O;N-S>$;){O=(N+S)*.5;var L=uf(O);L[2]/L[0]>=M/E?N=O:S=O}return of(O)},ff=sf,Jn=I,Ut=w,Qn=F,cf=ff;Ut.prototype.temp=Ut.prototype.kelvin=Ut.prototype.temperature=function(){return cf(this._rgb)},Jn.temp=Jn.kelvin=Jn.temperature=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(Ut,[null].concat(a,["temp"])))},Qn.format.temp=Qn.format.kelvin=Qn.format.temperature=Di;var lf=f.unpack,jn=Math.cbrt,hf=Math.pow,vf=Math.sign,pf=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=lf(a,"rgb"),E=d[0],M=d[1],S=d[2],N=[Kn(E/255),Kn(M/255),Kn(S/255)],$=N[0],O=N[1],L=N[2],V=jn(.4122214708*$+.5363325363*O+.0514459929*L),rr=jn(.2119034982*$+.6806995451*O+.1073969566*L),Y=jn(.0883024619*$+.2817188376*O+.6299787005*L);return[.2104542553*V+.793617785*rr-.0040720468*Y,1.9779984951*V-2.428592205*rr+.4505937099*Y,.0259040371*V+.7827717662*rr-.808675766*Y]},gi=pf;function Kn(a){var c=Math.abs(a);return c<.04045?a/12.92:(vf(a)||1)*hf((c+.055)/1.055,2.4)}var df=f.unpack,Zt=Math.pow,Df=Math.sign,gf=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=df(a,"lab");var d=a[0],E=a[1],M=a[2],S=Zt(d+.3963377774*E+.2158037573*M,3),N=Zt(d-.1055613458*E-.0638541728*M,3),$=Zt(d-.0894841775*E-1.291485548*M,3);return[255*ru(4.0767416621*S-3.3077115913*N+.2309699292*$),255*ru(-1.2684380046*S+2.6097574011*N-.3413193965*$),255*ru(-.0041960863*S-.7034186147*N+1.707614701*$),a.length>3?a[3]:1]},mi=gf;function ru(a){var c=Math.abs(a);return c>.0031308?(Df(a)||1)*(1.055*Zt(c,1/2.4)-.055):a*12.92}var mf=f.unpack,wf=f.type,bf=I,wi=w,bi=F,yf=gi;wi.prototype.oklab=function(){return yf(this._rgb)},bf.oklab=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(wi,[null].concat(a,["oklab"])))},bi.format.oklab=mi,bi.autodetect.push({p:3,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=mf(a,"oklab"),wf(a)==="array"&&a.length===3)return"oklab"}});var Ff=f.unpack,Ef=gi,Af=ni,Cf=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=Ff(a,"rgb"),E=d[0],M=d[1],S=d[2],N=Ef(E,M,S),$=N[0],O=N[1],L=N[2];return Af($,O,L)},_f=Cf,Nf=f.unpack,Bf=ui,Mf=mi,Sf=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];a=Nf(a,"lch");var d=a[0],E=a[1],M=a[2],S=Bf(d,E,M),N=S[0],$=S[1],O=S[2],L=Mf(N,$,O),V=L[0],rr=L[1],Y=L[2];return[V,rr,Y,a.length>3?a[3]:1]},Tf=Sf,xf=f.unpack,$f=f.type,Of=I,yi=w,Fi=F,If=_f;yi.prototype.oklch=function(){return If(this._rgb)},Of.oklch=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];return new(Function.prototype.bind.apply(yi,[null].concat(a,["oklch"])))},Fi.format.oklch=Tf,Fi.autodetect.push({p:3,test:function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];if(a=xf(a,"oklch"),$f(a)==="array"&&a.length===3)return"oklch"}});var Ei=w,Pf=f.type;Ei.prototype.alpha=function(a,c){return c===void 0&&(c=!1),a!==void 0&&Pf(a)==="number"?c?(this._rgb[3]=a,this):new Ei([this._rgb[0],this._rgb[1],this._rgb[2],a],"rgb"):this._rgb[3]};var zf=w;zf.prototype.clipped=function(){return this._rgb._clipped||!1};var Xe=w,kf=Rt;Xe.prototype.darken=function(a){a===void 0&&(a=1);var c=this,d=c.lab();return d[0]-=kf.Kn*a,new Xe(d,"lab").alpha(c.alpha(),!0)},Xe.prototype.brighten=function(a){return a===void 0&&(a=1),this.darken(-a)},Xe.prototype.darker=Xe.prototype.darken,Xe.prototype.brighter=Xe.prototype.brighten;var Rf=w;Rf.prototype.get=function(a){var c=a.split("."),d=c[0],E=c[1],M=this[d]();if(E){var S=d.indexOf(E)-(d.substr(0,2)==="ok"?2:0);if(S>-1)return M[S];throw new Error("unknown channel "+E+" in mode "+d)}else return M};var ft=w,Lf=f.type,qf=Math.pow,Uf=1e-7,Zf=20;ft.prototype.luminance=function(a){if(a!==void 0&&Lf(a)==="number"){if(a===0)return new ft([0,0,0,this._rgb[3]],"rgb");if(a===1)return new ft([255,255,255,this._rgb[3]],"rgb");var c=this.luminance(),d="rgb",E=Zf,M=function(N,$){var O=N.interpolate($,.5,d),L=O.luminance();return Math.abs(a-L)<Uf||!E--?O:L>a?M(N,O):M(O,$)},S=(c>a?M(new ft([0,0,0]),this):M(this,new ft([255,255,255]))).rgb();return new ft(S.concat([this._rgb[3]]))}return Hf.apply(void 0,this._rgb.slice(0,3))};var Hf=function(a,c,d){return a=eu(a),c=eu(c),d=eu(d),.2126*a+.7152*c+.0722*d},eu=function(a){return a/=255,a<=.03928?a/12.92:qf((a+.055)/1.055,2.4)},we={},Ai=w,Ci=f.type,Ht=we,_i=function(a,c,d){d===void 0&&(d=.5);for(var E=[],M=arguments.length-3;M-- >0;)E[M]=arguments[M+3];var S=E[0]||"lrgb";if(!Ht[S]&&!E.length&&(S=Object.keys(Ht)[0]),!Ht[S])throw new Error("interpolation mode "+S+" is not defined");return Ci(a)!=="object"&&(a=new Ai(a)),Ci(c)!=="object"&&(c=new Ai(c)),Ht[S](a,c,d).alpha(a.alpha()+d*(c.alpha()-a.alpha()))},Ni=w,Gf=_i;Ni.prototype.mix=Ni.prototype.interpolate=function(a,c){c===void 0&&(c=.5);for(var d=[],E=arguments.length-2;E-- >0;)d[E]=arguments[E+2];return Gf.apply(void 0,[this,a,c].concat(d))};var Bi=w;Bi.prototype.premultiply=function(a){a===void 0&&(a=!1);var c=this._rgb,d=c[3];return a?(this._rgb=[c[0]*d,c[1]*d,c[2]*d,d],this):new Bi([c[0]*d,c[1]*d,c[2]*d,d],"rgb")};var tu=w,Vf=Rt;tu.prototype.saturate=function(a){a===void 0&&(a=1);var c=this,d=c.lch();return d[1]+=Vf.Kn*a,d[1]<0&&(d[1]=0),new tu(d,"lch").alpha(c.alpha(),!0)},tu.prototype.desaturate=function(a){return a===void 0&&(a=1),this.saturate(-a)};var Mi=w,Si=f.type;Mi.prototype.set=function(a,c,d){d===void 0&&(d=!1);var E=a.split("."),M=E[0],S=E[1],N=this[M]();if(S){var $=M.indexOf(S)-(M.substr(0,2)==="ok"?2:0);if($>-1){if(Si(c)=="string")switch(c.charAt(0)){case"+":N[$]+=+c;break;case"-":N[$]+=+c;break;case"*":N[$]*=+c.substr(1);break;case"/":N[$]/=+c.substr(1);break;default:N[$]=+c}else if(Si(c)==="number")N[$]=c;else throw new Error("unsupported value for Color.set");var O=new Mi(N,M);return d?(this._rgb=O._rgb,this):O}throw new Error("unknown channel "+S+" in mode "+M)}else return N};var Yf=w,Wf=function(a,c,d){var E=a._rgb,M=c._rgb;return new Yf(E[0]+d*(M[0]-E[0]),E[1]+d*(M[1]-E[1]),E[2]+d*(M[2]-E[2]),"rgb")};we.rgb=Wf;var Xf=w,nu=Math.sqrt,ct=Math.pow,Jf=function(a,c,d){var E=a._rgb,M=E[0],S=E[1],N=E[2],$=c._rgb,O=$[0],L=$[1],V=$[2];return new Xf(nu(ct(M,2)*(1-d)+ct(O,2)*d),nu(ct(S,2)*(1-d)+ct(L,2)*d),nu(ct(N,2)*(1-d)+ct(V,2)*d),"rgb")};we.lrgb=Jf;var Qf=w,jf=function(a,c,d){var E=a.lab(),M=c.lab();return new Qf(E[0]+d*(M[0]-E[0]),E[1]+d*(M[1]-E[1]),E[2]+d*(M[2]-E[2]),"lab")};we.lab=jf;var Ti=w,lt=function(a,c,d,E){var M,S,N,$;E==="hsl"?(N=a.hsl(),$=c.hsl()):E==="hsv"?(N=a.hsv(),$=c.hsv()):E==="hcg"?(N=a.hcg(),$=c.hcg()):E==="hsi"?(N=a.hsi(),$=c.hsi()):E==="lch"||E==="hcl"?(E="hcl",N=a.hcl(),$=c.hcl()):E==="oklch"&&(N=a.oklch().reverse(),$=c.oklch().reverse());var O,L,V,rr,Y,ur;(E.substr(0,1)==="h"||E==="oklch")&&(M=N,O=M[0],V=M[1],Y=M[2],S=$,L=S[0],rr=S[1],ur=S[2]);var tr,pr,gr,wr;return!isNaN(O)&&!isNaN(L)?(L>O&&L-O>180?wr=L-(O+360):L<O&&O-L>180?wr=L+360-O:wr=L-O,pr=O+d*wr):isNaN(O)?isNaN(L)?pr=Number.NaN:(pr=L,(Y==1||Y==0)&&E!="hsv"&&(tr=rr)):(pr=O,(ur==1||ur==0)&&E!="hsv"&&(tr=V)),tr===void 0&&(tr=V+d*(rr-V)),gr=Y+d*(ur-Y),E==="oklch"?new Ti([gr,tr,pr],E):new Ti([pr,tr,gr],E)},Kf=lt,xi=function(a,c,d){return Kf(a,c,d,"lch")};we.lch=xi,we.hcl=xi;var r0=w,e0=function(a,c,d){var E=a.num(),M=c.num();return new r0(E+d*(M-E),"num")};we.num=e0;var t0=lt,n0=function(a,c,d){return t0(a,c,d,"hcg")};we.hcg=n0;var u0=lt,i0=function(a,c,d){return u0(a,c,d,"hsi")};we.hsi=i0;var a0=lt,o0=function(a,c,d){return a0(a,c,d,"hsl")};we.hsl=o0;var s0=lt,f0=function(a,c,d){return s0(a,c,d,"hsv")};we.hsv=f0;var c0=w,l0=function(a,c,d){var E=a.oklab(),M=c.oklab();return new c0(E[0]+d*(M[0]-E[0]),E[1]+d*(M[1]-E[1]),E[2]+d*(M[2]-E[2]),"oklab")};we.oklab=l0;var h0=lt,v0=function(a,c,d){return h0(a,c,d,"oklch")};we.oklch=v0;var uu=w,p0=f.clip_rgb,iu=Math.pow,au=Math.sqrt,ou=Math.PI,$i=Math.cos,Oi=Math.sin,d0=Math.atan2,D0=function(a,c,d){c===void 0&&(c="lrgb"),d===void 0&&(d=null);var E=a.length;d||(d=Array.from(new Array(E)).map(function(){return 1}));var M=E/d.reduce(function(pr,gr){return pr+gr});if(d.forEach(function(pr,gr){d[gr]*=M}),a=a.map(function(pr){return new uu(pr)}),c==="lrgb")return g0(a,d);for(var S=a.shift(),N=S.get(c),$=[],O=0,L=0,V=0;V<N.length;V++)if(N[V]=(N[V]||0)*d[0],$.push(isNaN(N[V])?0:d[0]),c.charAt(V)==="h"&&!isNaN(N[V])){var rr=N[V]/180*ou;O+=$i(rr)*d[0],L+=Oi(rr)*d[0]}var Y=S.alpha()*d[0];a.forEach(function(pr,gr){var wr=pr.get(c);Y+=pr.alpha()*d[gr+1];for(var _r=0;_r<N.length;_r++)if(!isNaN(wr[_r]))if($[_r]+=d[gr+1],c.charAt(_r)==="h"){var ae=wr[_r]/180*ou;O+=$i(ae)*d[gr+1],L+=Oi(ae)*d[gr+1]}else N[_r]+=wr[_r]*d[gr+1]});for(var ur=0;ur<N.length;ur++)if(c.charAt(ur)==="h"){for(var tr=d0(L/$[ur],O/$[ur])/ou*180;tr<0;)tr+=360;for(;tr>=360;)tr-=360;N[ur]=tr}else N[ur]=N[ur]/$[ur];return Y/=E,new uu(N,c).alpha(Y>.99999?1:Y,!0)},g0=function(a,c){for(var d=a.length,E=[0,0,0,0],M=0;M<a.length;M++){var S=a[M],N=c[M]/d,$=S._rgb;E[0]+=iu($[0],2)*N,E[1]+=iu($[1],2)*N,E[2]+=iu($[2],2)*N,E[3]+=$[3]*N}return E[0]=au(E[0]),E[1]=au(E[1]),E[2]=au(E[2]),E[3]>.9999999&&(E[3]=1),new uu(p0(E))},Ae=I,ht=f.type,m0=Math.pow,su=function(a){var c="rgb",d=Ae("#ccc"),E=0,M=[0,1],S=[],N=[0,0],$=!1,O=[],L=!1,V=0,rr=1,Y=!1,ur={},tr=!0,pr=1,gr=function(W){if(W=W||["#fff","#000"],W&&ht(W)==="string"&&Ae.brewer&&Ae.brewer[W.toLowerCase()]&&(W=Ae.brewer[W.toLowerCase()]),ht(W)==="array"){W.length===1&&(W=[W[0],W[0]]),W=W.slice(0);for(var cr=0;cr<W.length;cr++)W[cr]=Ae(W[cr]);S.length=0;for(var Dr=0;Dr<W.length;Dr++)S.push(Dr/(W.length-1))}return De(),O=W},wr=function(W){if($!=null){for(var cr=$.length-1,Dr=0;Dr<cr&&W>=$[Dr];)Dr++;return Dr-1}return 0},_r=function(W){return W},ae=function(W){return W},ue=function(W,cr){var Dr,dr;if(cr==null&&(cr=!1),isNaN(W)||W===null)return d;if(cr)dr=W;else if($&&$.length>2){var oe=wr(W);dr=oe/($.length-2)}else rr!==V?dr=(W-V)/(rr-V):dr=1;dr=ae(dr),cr||(dr=_r(dr)),pr!==1&&(dr=m0(dr,pr)),dr=N[0]+dr*(1-N[0]-N[1]),dr=Math.min(1,Math.max(0,dr));var zr=Math.floor(dr*1e4);if(tr&&ur[zr])Dr=ur[zr];else{if(ht(O)==="array")for(var br=0;br<S.length;br++){var Sr=S[br];if(dr<=Sr){Dr=O[br];break}if(dr>=Sr&&br===S.length-1){Dr=O[br];break}if(dr>Sr&&dr<S[br+1]){dr=(dr-Sr)/(S[br+1]-Sr),Dr=Ae.interpolate(O[br],O[br+1],dr,c);break}}else ht(O)==="function"&&(Dr=O(dr));tr&&(ur[zr]=Dr)}return Dr},De=function(){return ur={}};gr(a);var mr=function(W){var cr=Ae(ue(W));return L&&cr[L]?cr[L]():cr};return mr.classes=function(W){if(W!=null){if(ht(W)==="array")$=W,M=[W[0],W[W.length-1]];else{var cr=Ae.analyze(M);W===0?$=[cr.min,cr.max]:$=Ae.limits(cr,"e",W)}return mr}return $},mr.domain=function(W){if(!arguments.length)return M;V=W[0],rr=W[W.length-1],S=[];var cr=O.length;if(W.length===cr&&V!==rr)for(var Dr=0,dr=Array.from(W);Dr<dr.length;Dr+=1){var oe=dr[Dr];S.push((oe-V)/(rr-V))}else{for(var zr=0;zr<cr;zr++)S.push(zr/(cr-1));if(W.length>2){var br=W.map(function(Tr,Or){return Or/(W.length-1)}),Sr=W.map(function(Tr){return(Tr-V)/(rr-V)});Sr.every(function(Tr,Or){return br[Or]===Tr})||(ae=function(Tr){if(Tr<=0||Tr>=1)return Tr;for(var Or=0;Tr>=Sr[Or+1];)Or++;var _e=(Tr-Sr[Or])/(Sr[Or+1]-Sr[Or]),qe=br[Or]+_e*(br[Or+1]-br[Or]);return qe})}}return M=[V,rr],mr},mr.mode=function(W){return arguments.length?(c=W,De(),mr):c},mr.range=function(W,cr){return gr(W),mr},mr.out=function(W){return L=W,mr},mr.spread=function(W){return arguments.length?(E=W,mr):E},mr.correctLightness=function(W){return W==null&&(W=!0),Y=W,De(),Y?_r=function(cr){for(var Dr=ue(0,!0).lab()[0],dr=ue(1,!0).lab()[0],oe=Dr>dr,zr=ue(cr,!0).lab()[0],br=Dr+(dr-Dr)*cr,Sr=zr-br,Tr=0,Or=1,_e=20;Math.abs(Sr)>.01&&_e-- >0;)(function(){return oe&&(Sr*=-1),Sr<0?(Tr=cr,cr+=(Or-cr)*.5):(Or=cr,cr+=(Tr-cr)*.5),zr=ue(cr,!0).lab()[0],Sr=zr-br})();return cr}:_r=function(cr){return cr},mr},mr.padding=function(W){return W!=null?(ht(W)==="number"&&(W=[W,W]),N=W,mr):N},mr.colors=function(W,cr){arguments.length<2&&(cr="hex");var Dr=[];if(arguments.length===0)Dr=O.slice(0);else if(W===1)Dr=[mr(.5)];else if(W>1){var dr=M[0],oe=M[1]-dr;Dr=w0(0,W,!1).map(function(Or){return mr(dr+Or/(W-1)*oe)})}else{a=[];var zr=[];if($&&$.length>2)for(var br=1,Sr=$.length,Tr=1<=Sr;Tr?br<Sr:br>Sr;Tr?br++:br--)zr.push(($[br-1]+$[br])*.5);else zr=M;Dr=zr.map(function(Or){return mr(Or)})}return Ae[cr]&&(Dr=Dr.map(function(Or){return Or[cr]()})),Dr},mr.cache=function(W){return W!=null?(tr=W,mr):tr},mr.gamma=function(W){return W!=null?(pr=W,mr):pr},mr.nodata=function(W){return W!=null?(d=Ae(W),mr):d},mr};function w0(a,c,d){for(var E=[],M=a<c,S=d?M?c+1:c-1:c,N=a;M?N<S:N>S;M?N++:N--)E.push(N);return E}var Bt=w,b0=su,y0=function(a){for(var c=[1,1],d=1;d<a;d++){for(var E=[1],M=1;M<=c.length;M++)E[M]=(c[M]||0)+c[M-1];c=E}return c},F0=function(a){var c,d,E,M,S,N,$;if(a=a.map(function(Y){return new Bt(Y)}),a.length===2)c=a.map(function(Y){return Y.lab()}),S=c[0],N=c[1],M=function(Y){var ur=[0,1,2].map(function(tr){return S[tr]+Y*(N[tr]-S[tr])});return new Bt(ur,"lab")};else if(a.length===3)d=a.map(function(Y){return Y.lab()}),S=d[0],N=d[1],$=d[2],M=function(Y){var ur=[0,1,2].map(function(tr){return(1-Y)*(1-Y)*S[tr]+2*(1-Y)*Y*N[tr]+Y*Y*$[tr]});return new Bt(ur,"lab")};else if(a.length===4){var O;E=a.map(function(Y){return Y.lab()}),S=E[0],N=E[1],$=E[2],O=E[3],M=function(Y){var ur=[0,1,2].map(function(tr){return(1-Y)*(1-Y)*(1-Y)*S[tr]+3*(1-Y)*(1-Y)*Y*N[tr]+3*(1-Y)*Y*Y*$[tr]+Y*Y*Y*O[tr]});return new Bt(ur,"lab")}}else if(a.length>=5){var L,V,rr;L=a.map(function(Y){return Y.lab()}),rr=a.length-1,V=y0(rr),M=function(Y){var ur=1-Y,tr=[0,1,2].map(function(pr){return L.reduce(function(gr,wr,_r){return gr+V[_r]*Math.pow(ur,rr-_r)*Math.pow(Y,_r)*wr[pr]},0)});return new Bt(tr,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return M},E0=function(a){var c=F0(a);return c.scale=function(){return b0(c)},c},fu=I,Ce=function(a,c,d){if(!Ce[d])throw new Error("unknown blend mode "+d);return Ce[d](a,c)},Re=function(a){return function(c,d){var E=fu(d).rgb(),M=fu(c).rgb();return fu.rgb(a(E,M))}},Le=function(a){return function(c,d){var E=[];return E[0]=a(c[0],d[0]),E[1]=a(c[1],d[1]),E[2]=a(c[2],d[2]),E}},A0=function(a){return a},C0=function(a,c){return a*c/255},_0=function(a,c){return a>c?c:a},N0=function(a,c){return a>c?a:c},B0=function(a,c){return 255*(1-(1-a/255)*(1-c/255))},M0=function(a,c){return c<128?2*a*c/255:255*(1-2*(1-a/255)*(1-c/255))},S0=function(a,c){return 255*(1-(1-c/255)/(a/255))},T0=function(a,c){return a===255?255:(a=255*(c/255)/(1-a/255),a>255?255:a)};Ce.normal=Re(Le(A0)),Ce.multiply=Re(Le(C0)),Ce.screen=Re(Le(B0)),Ce.overlay=Re(Le(M0)),Ce.darken=Re(Le(_0)),Ce.lighten=Re(Le(N0)),Ce.dodge=Re(Le(T0)),Ce.burn=Re(Le(S0));for(var x0=Ce,cu=f.type,$0=f.clip_rgb,O0=f.TWOPI,I0=Math.pow,P0=Math.sin,z0=Math.cos,Ii=I,k0=function(a,c,d,E,M){a===void 0&&(a=300),c===void 0&&(c=-1.5),d===void 0&&(d=1),E===void 0&&(E=1),M===void 0&&(M=[0,1]);var S=0,N;cu(M)==="array"?N=M[1]-M[0]:(N=0,M=[M,M]);var $=function(O){var L=O0*((a+120)/360+c*O),V=I0(M[0]+N*O,E),rr=S!==0?d[0]+O*S:d,Y=rr*V*(1-V)/2,ur=z0(L),tr=P0(L),pr=V+Y*(-.14861*ur+1.78277*tr),gr=V+Y*(-.29227*ur-.90649*tr),wr=V+Y*(1.97294*ur);return Ii($0([pr*255,gr*255,wr*255,1]))};return $.start=function(O){return O==null?a:(a=O,$)},$.rotations=function(O){return O==null?c:(c=O,$)},$.gamma=function(O){return O==null?E:(E=O,$)},$.hue=function(O){return O==null?d:(d=O,cu(d)==="array"?(S=d[1]-d[0],S===0&&(d=d[1])):S=0,$)},$.lightness=function(O){return O==null?M:(cu(O)==="array"?(M=O,N=O[1]-O[0]):(M=[O,O],N=0),$)},$.scale=function(){return Ii.scale($)},$.hue(d),$},R0=w,L0="0123456789abcdef",q0=Math.floor,U0=Math.random,Z0=function(){for(var a="#",c=0;c<6;c++)a+=L0.charAt(q0(U0()*16));return new R0(a,"hex")},lu=g,Pi=Math.log,H0=Math.pow,G0=Math.floor,V0=Math.abs,zi=function(a,c){c===void 0&&(c=null);var d={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return lu(a)==="object"&&(a=Object.values(a)),a.forEach(function(E){c&&lu(E)==="object"&&(E=E[c]),E!=null&&!isNaN(E)&&(d.values.push(E),d.sum+=E,E<d.min&&(d.min=E),E>d.max&&(d.max=E),d.count+=1)}),d.domain=[d.min,d.max],d.limits=function(E,M){return ki(d,E,M)},d},ki=function(a,c,d){c===void 0&&(c="equal"),d===void 0&&(d=7),lu(a)=="array"&&(a=zi(a));var E=a.min,M=a.max,S=a.values.sort(function(vu,pu){return vu-pu});if(d===1)return[E,M];var N=[];if(c.substr(0,1)==="c"&&(N.push(E),N.push(M)),c.substr(0,1)==="e"){N.push(E);for(var $=1;$<d;$++)N.push(E+$/d*(M-E));N.push(M)}else if(c.substr(0,1)==="l"){if(E<=0)throw new Error("Logarithmic scales are only possible for values > 0");var O=Math.LOG10E*Pi(E),L=Math.LOG10E*Pi(M);N.push(E);for(var V=1;V<d;V++)N.push(H0(10,O+V/d*(L-O)));N.push(M)}else if(c.substr(0,1)==="q"){N.push(E);for(var rr=1;rr<d;rr++){var Y=(S.length-1)*rr/d,ur=G0(Y);if(ur===Y)N.push(S[ur]);else{var tr=Y-ur;N.push(S[ur]*(1-tr)+S[ur+1]*tr)}}N.push(M)}else if(c.substr(0,1)==="k"){var pr,gr=S.length,wr=new Array(gr),_r=new Array(d),ae=!0,ue=0,De=null;De=[],De.push(E);for(var mr=1;mr<d;mr++)De.push(E+mr/d*(M-E));for(De.push(M);ae;){for(var W=0;W<d;W++)_r[W]=0;for(var cr=0;cr<gr;cr++)for(var Dr=S[cr],dr=Number.MAX_VALUE,oe=void 0,zr=0;zr<d;zr++){var br=V0(De[zr]-Dr);br<dr&&(dr=br,oe=zr),_r[oe]++,wr[cr]=oe}for(var Sr=new Array(d),Tr=0;Tr<d;Tr++)Sr[Tr]=null;for(var Or=0;Or<gr;Or++)pr=wr[Or],Sr[pr]===null?Sr[pr]=S[Or]:Sr[pr]+=S[Or];for(var _e=0;_e<d;_e++)Sr[_e]*=1/_r[_e];ae=!1;for(var qe=0;qe<d;qe++)if(Sr[qe]!==De[qe]){ae=!0;break}De=Sr,ue++,ue>200&&(ae=!1)}for(var Ue={},vt=0;vt<d;vt++)Ue[vt]=[];for(var pt=0;pt<gr;pt++)pr=wr[pt],Ue[pr].push(S[pt]);for(var $e=[],Je=0;Je<d;Je++)$e.push(Ue[Je][0]),$e.push(Ue[Je][Ue[Je].length-1]);$e=$e.sort(function(vu,pu){return vu-pu}),N.push($e[0]);for(var Mt=1;Mt<$e.length;Mt+=2){var Qe=$e[Mt];!isNaN(Qe)&&N.indexOf(Qe)===-1&&N.push(Qe)}}return N},Ri={analyze:zi,limits:ki},Li=w,Y0=function(a,c){a=new Li(a),c=new Li(c);var d=a.luminance(),E=c.luminance();return d>E?(d+.05)/(E+.05):(E+.05)/(d+.05)},qi=w,xe=Math.sqrt,Jr=Math.pow,W0=Math.min,X0=Math.max,Ui=Math.atan2,Zi=Math.abs,Gt=Math.cos,Hi=Math.sin,J0=Math.exp,Gi=Math.PI,Q0=function(a,c,d,E,M){d===void 0&&(d=1),E===void 0&&(E=1),M===void 0&&(M=1);var S=function(Qe){return 360*Qe/(2*Gi)},N=function(Qe){return 2*Gi*Qe/360};a=new qi(a),c=new qi(c);var $=Array.from(a.lab()),O=$[0],L=$[1],V=$[2],rr=Array.from(c.lab()),Y=rr[0],ur=rr[1],tr=rr[2],pr=(O+Y)/2,gr=xe(Jr(L,2)+Jr(V,2)),wr=xe(Jr(ur,2)+Jr(tr,2)),_r=(gr+wr)/2,ae=.5*(1-xe(Jr(_r,7)/(Jr(_r,7)+Jr(25,7)))),ue=L*(1+ae),De=ur*(1+ae),mr=xe(Jr(ue,2)+Jr(V,2)),W=xe(Jr(De,2)+Jr(tr,2)),cr=(mr+W)/2,Dr=S(Ui(V,ue)),dr=S(Ui(tr,De)),oe=Dr>=0?Dr:Dr+360,zr=dr>=0?dr:dr+360,br=Zi(oe-zr)>180?(oe+zr+360)/2:(oe+zr)/2,Sr=1-.17*Gt(N(br-30))+.24*Gt(N(2*br))+.32*Gt(N(3*br+6))-.2*Gt(N(4*br-63)),Tr=zr-oe;Tr=Zi(Tr)<=180?Tr:zr<=oe?Tr+360:Tr-360,Tr=2*xe(mr*W)*Hi(N(Tr)/2);var Or=Y-O,_e=W-mr,qe=1+.015*Jr(pr-50,2)/xe(20+Jr(pr-50,2)),Ue=1+.045*cr,vt=1+.015*cr*Sr,pt=30*J0(-Jr((br-275)/25,2)),$e=2*xe(Jr(cr,7)/(Jr(cr,7)+Jr(25,7))),Je=-$e*Hi(2*N(pt)),Mt=xe(Jr(Or/(d*qe),2)+Jr(_e/(E*Ue),2)+Jr(Tr/(M*vt),2)+Je*(_e/(E*Ue))*(Tr/(M*vt)));return X0(0,W0(100,Mt))},Vi=w,j0=function(a,c,d){d===void 0&&(d="lab"),a=new Vi(a),c=new Vi(c);var E=a.get(d),M=c.get(d),S=0;for(var N in E){var $=(E[N]||0)-(M[N]||0);S+=$*$}return Math.sqrt(S)},K0=w,rc=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];try{return new(Function.prototype.bind.apply(K0,[null].concat(a))),!0}catch(d){return!1}},Yi=I,Wi=su,ec={cool:function(){return Wi([Yi.hsl(180,1,.9),Yi.hsl(250,.7,.4)])},hot:function(){return Wi(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Vt={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},hu=0,Xi=Object.keys(Vt);hu<Xi.length;hu+=1){var Ji=Xi[hu];Vt[Ji.toLowerCase()]=Vt[Ji]}var tc=Vt,ne=I;ne.average=D0,ne.bezier=E0,ne.blend=x0,ne.cubehelix=k0,ne.mix=ne.interpolate=_i,ne.random=Z0,ne.scale=su,ne.analyze=Ri.analyze,ne.contrast=Y0,ne.deltaE=Q0,ne.distance=j0,ne.limits=Ri.limits,ne.valid=rc,ne.scales=ec,ne.colors=si,ne.brewer=tc;var nc=ne;return nc})})(Ia);var ac=Ia.exports;const mu=Iu(ac);function en(){return en=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},en.apply(this,arguments)}var Pa={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function kr(r){return typeof r=="number"}function jr(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function za(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function ka(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function Ra(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Se(r){return typeof r=="string"}var Zr=Array.isArray;function ee(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function tn(r){return Array.isArray(r)||ee(r)}function oc(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function sc(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function fc(r){return r&&r.constructor.prototype.isRange===!0||!1}function Pu(r){return r&&r.constructor.prototype.isIndex===!0||!1}function cc(r){return typeof r=="boolean"}function lc(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function hc(r){return r&&r.constructor.prototype.isHelp===!0||!1}function vc(r){return typeof r=="function"}function pc(r){return r instanceof Date}function dc(r){return r instanceof RegExp}function zu(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!za(r)&&!ka(r))}function Dc(r){return r===null}function gc(r){return r===void 0}function mc(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function wc(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function bc(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function yc(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function Fc(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ec(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ac(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Cc(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function _c(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Nc(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Bc(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Mc(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Sc(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Tc(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function xc(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function $c(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function Oc(r){return r&&r.constructor.prototype.isChain===!0||!1}function mt(r){var e=typeof r;return e==="object"?r===null?"null":jr(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function Xr(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(n){return Xr(n)});if(r instanceof Date)return new Date(r.valueOf());if(jr(r))return r;if(zu(r))return Ic(r,Xr);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function Ic(r,e){var n={};for(var u in r)nn(r,u)&&(n[u]=e(r[u]));return n}function bt(r,e){var n,u,t;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(u=0,t=r.length;u<t;u++)if(!bt(r[u],e[u]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in r)if(!(n in e)||!bt(r[n],e[n]))return!1;for(n in e)if(!(n in r))return!1;return!0}else return r===e}}function nn(r,e){return r&&Object.hasOwnProperty.call(r,e)}function Pc(r,e){for(var n={},u=0;u<e.length;u++){var t=e[u],i=r[t];i!==void 0&&(n[t]=i)}return n}var zc=["Matrix","Array"],kc=["number","BigNumber","Fraction"],Et=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Pa)};en(Et,Pa,{MATRIX_OPTIONS:zc,NUMBER_OPTIONS:kc});function Qi(){return!0}function ye(){return!1}function dt(){}const ji="Argument is not a typed-function.";function La(){function r(_){return typeof _=="object"&&_!==null&&_.constructor===Object}const e=[{name:"number",test:function(_){return typeof _=="number"}},{name:"string",test:function(_){return typeof _=="string"}},{name:"boolean",test:function(_){return typeof _=="boolean"}},{name:"Function",test:function(_){return typeof _=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(_){return _ instanceof Date}},{name:"RegExp",test:function(_){return _ instanceof RegExp}},{name:"Object",test:r},{name:"null",test:function(_){return _===null}},{name:"undefined",test:function(_){return _===void 0}}],n={name:"any",test:Qi,isAny:!0};let u,t,i=0,h={createCount:0};function p(_){const x=u.get(_);if(x)return x;let z='Unknown type "'+_+'"';const q=_.toLowerCase();let G;for(G of t)if(G.toLowerCase()===q){z+='. Did you mean "'+G+'" ?';break}throw new TypeError(z)}function D(_){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const z=x?p(x).index:t.length,q=[];for(let Z=0;Z<_.length;++Z){if(!_[Z]||typeof _[Z].name!="string"||typeof _[Z].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const j=_[Z].name;if(u.has(j))throw new TypeError('Duplicate type name "'+j+'"');q.push(j),u.set(j,{name:j,test:_[Z].test,isAny:_[Z].isAny,index:z+Z,conversionsTo:[]})}const G=t.slice(z);t=t.slice(0,z).concat(q).concat(G);for(let Z=z+q.length;Z<t.length;++Z)u.get(t[Z]).index=Z}function g(){u=new Map,t=[],i=0,D([n],!1)}g(),D(e);function s(){let _;for(_ of t)u.get(_).conversionsTo=[];i=0}function o(_){const x=t.filter(z=>{const q=u.get(z);return!q.isAny&&q.test(_)});return x.length?x:["any"]}function l(_){return _&&typeof _=="function"&&"_typedFunctionData"in _}function v(_,x,z){if(!l(_))throw new TypeError(ji);const q=z&&z.exact,G=Array.isArray(x)?x.join(","):x,Z=B(G),j=F(Z);if(!q||j in _.signatures){const Ar=_._typedFunctionData.signatureMap.get(j);if(Ar)return Ar}const J=Z.length;let K;if(q){K=[];let Ar;for(Ar in _.signatures)K.push(_._typedFunctionData.signatureMap.get(Ar))}else K=_._typedFunctionData.signatures;for(let Ar=0;Ar<J;++Ar){const $r=Z[Ar],Vr=[];let ce;for(ce of K){const te=I(ce.params,Ar);if(!(!te||$r.restParam&&!te.restParam)){if(!te.hasAny){const de=b(te);if($r.types.some(me=>!de.has(me.name)))continue}Vr.push(ce)}}if(K=Vr,K.length===0)break}let X;for(X of K)if(X.params.length<=J)return X;throw new TypeError("Signature not found (signature: "+(_.name||"unnamed")+"("+F(Z,", ")+"))")}function y(_,x,z){return v(_,x,z).implementation}function f(_,x){const z=p(x);if(z.test(_))return _;const q=z.conversionsTo;if(q.length===0)throw new Error("There are no conversions to "+x+" defined.");for(let G=0;G<q.length;G++)if(p(q[G].from).test(_))return q[G].convert(_);throw new Error("Cannot convert "+_+" to "+x)}function F(_){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return _.map(z=>z.name).join(x)}function m(_){const x=_.indexOf("...")===0,q=(x?_.length>3?_.slice(3):"any":_).split("|").map(J=>p(J.trim()));let G=!1,Z=x?"...":"";return{types:q.map(function(J){return G=J.isAny||G,Z+=J.name+"|",{name:J.name,typeIndex:J.index,test:J.test,isAny:J.isAny,conversion:null,conversionIndex:-1}}),name:Z.slice(0,-1),hasAny:G,hasConversion:!1,restParam:x}}function A(_){const x=_.types.map(j=>j.name),z=fr(x);let q=_.hasAny,G=_.name;const Z=z.map(function(j){const J=p(j.from);return q=J.isAny||q,G+="|"+j.from,{name:j.from,typeIndex:J.index,test:J.test,isAny:J.isAny,conversion:j,conversionIndex:j.index}});return{types:_.types.concat(Z),name:G,hasAny:q,hasConversion:Z.length>0,restParam:_.restParam}}function b(_){return _.typeSet||(_.typeSet=new Set,_.types.forEach(x=>_.typeSet.add(x.name))),_.typeSet}function B(_){const x=[];if(typeof _!="string")throw new TypeError("Signatures must be strings");const z=_.trim();if(z==="")return x;const q=z.split(",");for(let G=0;G<q.length;++G){const Z=m(q[G].trim());if(Z.restParam&&G!==q.length-1)throw new SyntaxError('Unexpected rest parameter "'+q[G]+'": only allowed for the last parameter');if(Z.types.length===0)return null;x.push(Z)}return x}function C(_){const x=Br(_);return x?x.restParam:!1}function w(_){if(!_||_.types.length===0)return Qi;if(_.types.length===1)return p(_.types[0].name).test;if(_.types.length===2){const x=p(_.types[0].name).test,z=p(_.types[1].name).test;return function(G){return x(G)||z(G)}}else{const x=_.types.map(function(z){return p(z.name).test});return function(q){for(let G=0;G<x.length;G++)if(x[G](q))return!0;return!1}}}function T(_){let x,z,q;if(C(_)){x=ie(_).map(w);const G=x.length,Z=w(Br(_)),j=function(J){for(let K=G;K<J.length;K++)if(!Z(J[K]))return!1;return!0};return function(K){for(let X=0;X<x.length;X++)if(!x[X](K[X]))return!1;return j(K)&&K.length>=G+1}}else return _.length===0?function(Z){return Z.length===0}:_.length===1?(z=w(_[0]),function(Z){return z(Z[0])&&Z.length===1}):_.length===2?(z=w(_[0]),q=w(_[1]),function(Z){return z(Z[0])&&q(Z[1])&&Z.length===2}):(x=_.map(w),function(Z){for(let j=0;j<x.length;j++)if(!x[j](Z[j]))return!1;return Z.length===x.length})}function I(_,x){return x<_.length?_[x]:C(_)?Br(_):null}function P(_,x){const z=I(_,x);return z?b(z):new Set}function U(_){return _.conversion===null||_.conversion===void 0}function k(_,x){const z=new Set;return _.forEach(q=>{const G=P(q.params,x);let Z;for(Z of G)z.add(Z)}),z.has("any")?["any"]:Array.from(z)}function R(_,x,z){let q,G;const Z=_||"unnamed";let j=z,J;for(J=0;J<x.length;J++){const $r=[];if(j.forEach(Vr=>{const ce=I(Vr.params,J),te=w(ce);(J<Vr.params.length||C(Vr.params))&&te(x[J])&&$r.push(Vr)}),$r.length===0){if(G=k(j,J),G.length>0){const Vr=o(x[J]);return q=new TypeError("Unexpected type of argument in function "+Z+" (expected: "+G.join(" or ")+", actual: "+Vr.join(" | ")+", index: "+J+")"),q.data={category:"wrongType",fn:Z,index:J,actual:Vr,expected:G},q}}else j=$r}const K=j.map(function($r){return C($r.params)?1/0:$r.params.length});if(x.length<Math.min.apply(null,K))return G=k(j,J),q=new TypeError("Too few arguments in function "+Z+" (expected: "+G.join(" or ")+", index: "+x.length+")"),q.data={category:"tooFewArgs",fn:Z,index:x.length,expected:G},q;const X=Math.max.apply(null,K);if(x.length>X)return q=new TypeError("Too many arguments in function "+Z+" (expected: "+X+", actual: "+x.length+")"),q.data={category:"tooManyArgs",fn:Z,index:x.length,expectedLength:X},q;const Ar=[];for(let $r=0;$r<x.length;++$r)Ar.push(o(x[$r]).join("|"));return q=new TypeError('Arguments of type "'+Ar.join(", ")+'" do not match any of the defined signatures of function '+Z+"."),q.data={category:"mismatch",actual:Ar},q}function ir(_){let x=t.length+1;for(let z=0;z<_.types.length;z++)U(_.types[z])&&(x=Math.min(x,_.types[z].typeIndex));return x}function nr(_){let x=i+1;for(let z=0;z<_.types.length;z++)U(_.types[z])||(x=Math.min(x,_.types[z].conversionIndex));return x}function er(_,x){if(_.hasAny){if(!x.hasAny)return 1}else if(x.hasAny)return-1;if(_.restParam){if(!x.restParam)return 1}else if(x.restParam)return-1;if(_.hasConversion){if(!x.hasConversion)return 1}else if(x.hasConversion)return-1;const z=ir(_)-ir(x);if(z<0)return-1;if(z>0)return 1;const q=nr(_)-nr(x);return q<0?-1:q>0?1:0}function Q(_,x){const z=_.params,q=x.params,G=Br(z),Z=Br(q),j=C(z),J=C(q);if(j&&G.hasAny){if(!J||!Z.hasAny)return 1}else if(J&&Z.hasAny)return-1;let K=0,X=0,Ar;for(Ar of z)Ar.hasAny&&++K,Ar.hasConversion&&++X;let $r=0,Vr=0;for(Ar of q)Ar.hasAny&&++$r,Ar.hasConversion&&++Vr;if(K!==$r)return K-$r;if(j&&G.hasConversion){if(!J||!Z.hasConversion)return 1}else if(J&&Z.hasConversion)return-1;if(X!==Vr)return X-Vr;if(j){if(!J)return 1}else if(J)return-1;const ce=(z.length-q.length)*(j?-1:1);if(ce!==0)return ce;const te=[];let de=0;for(let ze=0;ze<z.length;++ze){const tt=er(z[ze],q[ze]);te.push(tt),de+=tt}if(de!==0)return de;let me;for(me of te)if(me!==0)return me;return 0}function fr(_){if(_.length===0)return[];const x=_.map(p);_.length>1&&x.sort((G,Z)=>G.index-Z.index);let z=x[0].conversionsTo;if(_.length===1)return z;z=z.concat([]);const q=new Set(_);for(let G=1;G<x.length;++G){let Z;for(Z of x[G].conversionsTo)q.has(Z.from)||(z.push(Z),q.add(Z.from))}return z}function or(_,x){let z=x;if(_.some(G=>G.hasConversion)){const G=C(_),Z=_.map(sr);z=function(){const J=[],K=G?arguments.length-1:arguments.length;for(let X=0;X<K;X++)J[X]=Z[X](arguments[X]);return G&&(J[K]=arguments[K].map(Z[K])),x.apply(this,J)}}let q=z;if(C(_)){const G=_.length-1;q=function(){return z.apply(this,Mr(arguments,0,G).concat([Mr(arguments,G)]))}}return q}function sr(_){let x,z,q,G;const Z=[],j=[];switch(_.types.forEach(function(J){J.conversion&&(Z.push(p(J.conversion.from).test),j.push(J.conversion.convert))}),j.length){case 0:return function(K){return K};case 1:return x=Z[0],q=j[0],function(K){return x(K)?q(K):K};case 2:return x=Z[0],z=Z[1],q=j[0],G=j[1],function(K){return x(K)?q(K):z(K)?G(K):K};default:return function(K){for(let X=0;X<j.length;X++)if(Z[X](K))return j[X](K);return K}}}function vr(_){function x(z,q,G){if(q<z.length){const Z=z[q];let j=[];if(Z.restParam){const J=Z.types.filter(U);J.length<Z.types.length&&j.push({types:J,name:"..."+J.map(K=>K.name).join("|"),hasAny:J.some(K=>K.isAny),hasConversion:!1,restParam:!0}),j.push(Z)}else j=Z.types.map(function(J){return{types:[J],name:J.name,hasAny:J.isAny,hasConversion:J.conversion,restParam:!1}});return Kr(j,function(J){return x(z,q+1,G.concat([J]))})}else return[G]}return x(_,0,[])}function Nr(_,x){const z=Math.max(_.length,x.length);for(let J=0;J<z;J++){const K=P(_,J),X=P(x,J);let Ar=!1,$r;for($r of X)if(K.has($r)){Ar=!0;break}if(!Ar)return!1}const q=_.length,G=x.length,Z=C(_),j=C(x);return Z?j?q===G:G>=q:j?q>=G:q===G}function Er(_){return _.map(x=>Ee(x)?pe(x.referToSelf.callback):Fe(x)?Gr(x.referTo.references,x.referTo.callback):x)}function Fr(_,x,z){const q=[];let G;for(G of _){let Z=z[G];if(typeof Z!="number")throw new TypeError('No definition for referenced signature "'+G+'"');if(Z=x[Z],typeof Z!="function")return!1;q.push(Z)}return q}function Rr(_,x,z){const q=Er(_),G=new Array(q.length).fill(!1);let Z=!0;for(;Z;){Z=!1;let j=!0;for(let J=0;J<q.length;++J){if(G[J])continue;const K=q[J];if(Ee(K))q[J]=K.referToSelf.callback(z),q[J].referToSelf=K.referToSelf,G[J]=!0,j=!1;else if(Fe(K)){const X=Fr(K.referTo.references,q,x);X?(q[J]=K.referTo.callback.apply(this,X),q[J].referTo=K.referTo,G[J]=!0,j=!1):Z=!0}}if(j&&Z)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return q}function Ur(_){const x=/\bthis(\(|\.signatures\b)/;Object.keys(_).forEach(z=>{const q=_[z];if(x.test(q.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Wr(_,x){if(h.createCount++,Object.keys(x).length===0)throw new SyntaxError("No signatures provided");h.warnAgainstDeprecatedThis&&Ur(x);const z=[],q=[],G={},Z=[];let j;for(j in x){if(!Object.prototype.hasOwnProperty.call(x,j))continue;const Cr=B(j);if(!Cr)continue;z.forEach(function(We){if(Nr(We,Cr))throw new TypeError('Conflicting signatures "'+F(We)+'" and "'+F(Cr)+'".')}),z.push(Cr);const le=q.length;q.push(x[j]);const Ln=Cr.map(A);let ut;for(ut of vr(Ln)){const We=F(ut);Z.push({params:ut,name:We,fn:le}),ut.every(qn=>!qn.hasConversion)&&(G[We]=le)}}Z.sort(Q);const J=Rr(q,G,ke);let K;for(K in G)Object.prototype.hasOwnProperty.call(G,K)&&(G[K]=J[G[K]]);const X=[],Ar=new Map;for(K of Z)Ar.has(K.name)||(K.fn=J[K.fn],X.push(K),Ar.set(K.name,K));const $r=X[0]&&X[0].params.length<=2&&!C(X[0].params),Vr=X[1]&&X[1].params.length<=2&&!C(X[1].params),ce=X[2]&&X[2].params.length<=2&&!C(X[2].params),te=X[3]&&X[3].params.length<=2&&!C(X[3].params),de=X[4]&&X[4].params.length<=2&&!C(X[4].params),me=X[5]&&X[5].params.length<=2&&!C(X[5].params),ze=$r&&Vr&&ce&&te&&de&&me;for(let Cr=0;Cr<X.length;++Cr)X[Cr].test=T(X[Cr].params);const tt=$r?w(X[0].params[0]):ye,wn=Vr?w(X[1].params[0]):ye,bn=ce?w(X[2].params[0]):ye,yn=te?w(X[3].params[0]):ye,Fn=de?w(X[4].params[0]):ye,En=me?w(X[5].params[0]):ye,An=$r?w(X[0].params[1]):ye,Cn=Vr?w(X[1].params[1]):ye,_n=ce?w(X[2].params[1]):ye,Nn=te?w(X[3].params[1]):ye,Bn=de?w(X[4].params[1]):ye,$t=me?w(X[5].params[1]):ye;for(let Cr=0;Cr<X.length;++Cr)X[Cr].implementation=or(X[Cr].params,X[Cr].fn);const Ot=$r?X[0].implementation:dt,Mn=Vr?X[1].implementation:dt,Sn=ce?X[2].implementation:dt,Tn=te?X[3].implementation:dt,nt=de?X[4].implementation:dt,xn=me?X[5].implementation:dt,It=$r?X[0].params.length:-1,$n=Vr?X[1].params.length:-1,On=ce?X[2].params.length:-1,In=te?X[3].params.length:-1,Pt=de?X[4].params.length:-1,Pn=me?X[5].params.length:-1,zt=ze?6:0,zn=X.length,kt=X.map(Cr=>Cr.test),kn=X.map(Cr=>Cr.implementation),Rn=function(){for(let le=zt;le<zn;le++)if(kt[le](arguments))return kn[le].apply(this,arguments);return h.onMismatch(_,arguments,X)};function ke(Cr,le){return arguments.length===It&&tt(Cr)&&An(le)?Ot.apply(this,arguments):arguments.length===$n&&wn(Cr)&&Cn(le)?Mn.apply(this,arguments):arguments.length===On&&bn(Cr)&&_n(le)?Sn.apply(this,arguments):arguments.length===In&&yn(Cr)&&Nn(le)?Tn.apply(this,arguments):arguments.length===Pt&&Fn(Cr)&&Bn(le)?nt.apply(this,arguments):arguments.length===Pn&&En(Cr)&&$t(le)?xn.apply(this,arguments):Rn.apply(this,arguments)}try{Object.defineProperty(ke,"name",{value:_})}catch(Cr){}return ke.signatures=G,ke._typedFunctionData={signatures:X,signatureMap:Ar},ke}function Ir(_,x,z){throw R(_,x,z)}function ie(_){return Mr(_,0,_.length-1)}function Br(_){return _[_.length-1]}function Mr(_,x,z){return Array.prototype.slice.call(_,x,z)}function ve(_,x){for(let z=0;z<_.length;z++)if(x(_[z]))return _[z]}function Kr(_,x){return Array.prototype.concat.apply([],_.map(x))}function xr(){const _=ie(arguments).map(z=>F(B(z))),x=Br(arguments);if(typeof x!="function")throw new TypeError("Callback function expected as last argument");return Gr(_,x)}function Gr(_,x){return{referTo:{references:_,callback:x}}}function pe(_){if(typeof _!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:_}}}function Fe(_){return _&&typeof _.referTo=="object"&&Array.isArray(_.referTo.references)&&typeof _.referTo.callback=="function"}function Ee(_){return _&&typeof _.referToSelf=="object"&&typeof _.referToSelf.callback=="function"}function Me(_,x){if(!_)return x;if(x&&x!==_){const z=new Error("Function names do not match (expected: "+_+", actual: "+x+")");throw z.data={actual:x,expected:_},z}return _}function Pe(_){let x;for(const z in _)Object.prototype.hasOwnProperty.call(_,z)&&(l(_[z])||typeof _[z].signature=="string")&&(x=Me(x,_[z].name));return x}function et(_,x){let z;for(z in x)if(Object.prototype.hasOwnProperty.call(x,z)){if(z in _&&x[z]!==_[z]){const q=new Error('Signature "'+z+'" is defined twice');throw q.data={signature:z,sourceFunction:x[z],destFunction:_[z]},q}_[z]=x[z]}}const xt=h;h=function(_){const x=typeof _=="string",z=x?1:0;let q=x?_:"";const G={};for(let Z=z;Z<arguments.length;++Z){const j=arguments[Z];let J={},K;if(typeof j=="function"?(K=j.name,typeof j.signature=="string"?J[j.signature]=j:l(j)&&(J=j.signatures)):r(j)&&(J=j,x||(K=Pe(j))),Object.keys(J).length===0){const X=new TypeError("Argument to 'typed' at index "+Z+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw X.data={index:Z,argument:j},X}x||(q=Me(q,K)),et(G,J)}return Wr(q||"",G)},h.create=La,h.createCount=xt.createCount,h.onMismatch=Ir,h.throwMismatchError=Ir,h.createError=R,h.clear=g,h.clearConversions=s,h.addTypes=D,h._findType=p,h.referTo=xr,h.referToSelf=pe,h.convert=f,h.findSignature=v,h.find=y,h.isTypedFunction=l,h.warnAgainstDeprecatedThis=!0,h.addType=function(_,x){let z="any";x!==!1&&u.has("Object")&&(z="Object"),h.addTypes([_],z)};function _t(_){if(!_||typeof _.from!="string"||typeof _.to!="string"||typeof _.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(_.to===_.from)throw new SyntaxError('Illegal to define conversion from "'+_.from+'" to itself.')}return h.addConversion=function(_){_t(_);const x=p(_.to);if(x.conversionsTo.every(function(z){return z.from!==_.from}))x.conversionsTo.push({from:_.from,convert:_.convert,index:i++});else throw new Error('There is already a conversion from "'+_.from+'" to "'+x.name+'"')},h.addConversions=function(_){_.forEach(h.addConversion)},h.removeConversion=function(_){_t(_);const x=p(_.to),z=ve(x.conversionsTo,G=>G.from===_.from);if(!z)throw new Error("Attempt to remove nonexistent conversion from "+_.from+" to "+_.to);if(z.convert!==_.convert)throw new Error("Conversion to remove does not match existing conversion");const q=x.conversionsTo.indexOf(z);x.conversionsTo.splice(q,1)},h.resolve=function(_,x){if(!l(_))throw new TypeError(ji);const z=_._typedFunctionData.signatures;for(let q=0;q<z.length;++q)if(z[q].test(x))return z[q];return null},h}const Ki=La();function Lr(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function wu(r,e,n){var u={2:"0b",8:"0o",16:"0x"},t=u[e],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Lr(n))throw new Error("size must be an integer");if(r>je(2,n-1)-1||r<-je(2,n-1))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Lr(r))throw new Error("Value must be an integer");r<0&&(r=r+je(2,n)),i="i".concat(n)}var h="";return r<0&&(r=-r,h="-"),"".concat(h).concat(t).concat(r.toString(e)).concat(i)}function Cu(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:n,precision:u,wordSize:t}=qa(e);switch(n){case"fixed":return Lc(r,u);case"exponential":return Ua(r,u);case"engineering":return Rc(r,u);case"bin":return wu(r,2,t);case"oct":return wu(r,8,t);case"hex":return wu(r,16,t);case"auto":return qc(r,u,e).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],h=arguments[4];return i!=="."?i+h:h});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function qa(r){var e="auto",n,u;if(r!==void 0)if(kr(r))n=r;else if(jr(r))n=r.toNumber();else if(zu(r))r.precision!==void 0&&(n=ra(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(u=ra(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:n,wordSize:u}}function hn(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var n=e[1],u=e[2],t=parseFloat(e[4]||"0"),i=u.indexOf(".");t+=i!==-1?i-1:u.length-1;var h=u.replace(".","").replace(/^0*/,function(p){return t-=p.length,""}).replace(/0*$/,"").split("").map(function(p){return parseInt(p)});return h.length===0&&(h.push(0),t++),{sign:n,coefficients:h,exponent:t}}function Rc(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=hn(r),u=vn(n,e),t=u.exponent,i=u.coefficients,h=t%3===0?t:t<0?t-3-t%3:t-t%3;if(kr(e))for(;e>i.length||t-h+1>i.length;)i.push(0);else for(var p=Math.abs(t-h)-(i.length-1),D=0;D<p;D++)i.push(0);for(var g=Math.abs(t-h),s=1;g>0;)s++,g--;var o=i.slice(s).join(""),l=kr(e)&&o.length||o.match(/[1-9]/)?"."+o:"",v=i.slice(0,s).join("")+l+"e"+(t>=0?"+":"")+h.toString();return u.sign+v}function Lc(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=hn(r),u=typeof e=="number"?vn(n,n.exponent+1+e):n,t=u.coefficients,i=u.exponent+1,h=i+(e||0);return t.length<h&&(t=t.concat(wt(h-t.length))),i<0&&(t=wt(-i+1).concat(t),i=1),i<t.length&&t.splice(i,0,i===0?"0.":"."),u.sign+t.join("")}function Ua(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=hn(r),u=e?vn(n,e):n,t=u.coefficients,i=u.exponent;t.length<e&&(t=t.concat(wt(e-t.length)));var h=t.shift();return u.sign+h+(t.length>0?"."+t.join(""):"")+"e"+(i>=0?"+":"")+i}function qc(r,e,n){if(isNaN(r)||!isFinite(r))return String(r);var u=ea(n==null?void 0:n.lowerExp,-3),t=ea(n==null?void 0:n.upperExp,5),i=hn(r),h=e?vn(i,e):i;if(h.exponent<u||h.exponent>=t)return Ua(r,e);var p=h.coefficients,D=h.exponent;p.length<e&&(p=p.concat(wt(e-p.length))),p=p.concat(wt(D-p.length+1+(p.length<e?e-p.length:0))),p=wt(-D).concat(p);var g=D>0?D:0;return g<p.length-1&&p.splice(g+1,0,"."),h.sign+p.join("")}function vn(r,e){for(var n={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},u=n.coefficients;e<=0;)u.unshift(0),n.exponent++,e++;if(u.length>e){var t=u.splice(e,u.length-e);if(t[0]>=5){var i=e-1;for(u[i]++;u[i]===10;)u.pop(),i===0&&(u.unshift(0),n.exponent++,i++),i--,u[i]++}}return n}function wt(r){for(var e=[],n=0;n<r;n++)e.push(0);return e}function Uc(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Zc=Number.EPSILON||2220446049250313e-31;function un(r,e,n){if(n==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var u=Math.abs(r-e);return u<=Zc?!0:u<=Math.max(Math.abs(r),Math.abs(e))*n}return!1}function ra(r,e){if(kr(r))return r;if(jr(r))return r.toNumber();e()}function ea(r,e){return kr(r)?r:jr(r)?r.toNumber():e}function bu(r,e,n){var u=r.constructor,t=new u(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Lr(n))throw new Error("size must be an integer");if(r.greaterThan(t.pow(n-1).sub(1))||r.lessThan(t.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(t.pow(n))),i="i".concat(n)}switch(e){case 2:return"".concat(r.toBinary()).concat(i);case 8:return"".concat(r.toOctal()).concat(i);case 16:return"".concat(r.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(e," not supported "))}}function Hc(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:u,wordSize:t}=qa(e);switch(n){case"fixed":return Vc(r,u);case"exponential":return ta(r,u);case"engineering":return Gc(r,u);case"bin":return bu(r,2,t);case"oct":return bu(r,8,t);case"hex":return bu(r,16,t);case"auto":{var i=na(e==null?void 0:e.lowerExp,-3),h=na(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var p,D=r.toSignificantDigits(u),g=D.e;return g>=i&&g<h?p=D.toFixed():p=ta(r,u),p.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return s!=="."?s+o:o})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Gc(r,e){var n=r.e,u=n%3===0?n:n<0?n-3-n%3:n-n%3,t=r.mul(Math.pow(10,-u)),i=t.toPrecision(e);if(i.indexOf("e")!==-1){var h=r.constructor;i=new h(i).toFixed()}return i+"e"+(n>=0?"+":"")+u.toString()}function ta(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function Vc(r,e){return r.toFixed(e)}function na(r,e){return kr(r)?r:jr(r)?r.toNumber():e}function Qr(r,e){var n=Yc(r,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function Yc(r,e){if(typeof r=="number")return Cu(r,e);if(jr(r))return Hc(r,e);if(Wc(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return Za(r,e);if(Se(r))return ua(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var n=Object.keys(r).map(u=>ua(u)+": "+Qr(r[u],e));return"{"+n.join(", ")+"}"}return String(r)}function ua(r){for(var e=String(r),n="",u=0;u<e.length;){var t=e.charAt(u);n+=t in ia?ia[t]:t,u++}return'"'+n+'"'}var ia={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Za(r,e){if(Array.isArray(r)){for(var n="[",u=r.length,t=0;t<u;t++)t!==0&&(n+=", "),n+=Za(r[t],e);return n+="]",n}else return Qr(r,e)}function Wc(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function qr(r,e,n){if(!(this instanceof qr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}qr.prototype=new RangeError;qr.prototype.constructor=RangeError;qr.prototype.name="DimensionError";qr.prototype.isDimensionError=!0;function At(r,e,n){if(!(this instanceof At))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}At.prototype=new RangeError;At.prototype.constructor=RangeError;At.prototype.name="IndexError";At.prototype.isIndexError=!0;function be(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function Ha(r,e,n){var u,t=r.length;if(t!==e[n])throw new qr(t,e[n]);if(n<e.length-1){var i=n+1;for(u=0;u<t;u++){var h=r[u];if(!Array.isArray(h))throw new qr(e.length-1,e.length,"<");Ha(r[u],e,i)}}else for(u=0;u<t;u++)if(Array.isArray(r[u]))throw new qr(e.length+1,e.length,">")}function aa(r,e){var n=e.length===0;if(n){if(Array.isArray(r))throw new qr(r.length,0)}else Ha(r,e,0)}function Hr(r,e){if(r!==void 0){if(!kr(r)||!Lr(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new At(r,e)}}function _u(r,e,n){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!kr(t)||!Lr(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Qr(e)+")")}),(kr(r)||jr(r))&&(r=[r]);var u=n!==void 0?n:0;return Nu(r,e,0,u),r}function Nu(r,e,n,u){var t,i,h=r.length,p=e[n],D=Math.min(h,p);if(r.length=p,n<e.length-1){var g=n+1;for(t=0;t<D;t++)i=r[t],Array.isArray(i)||(i=[i],r[t]=i),Nu(i,e,g,u);for(t=D;t<p;t++)i=[],r[t]=i,Nu(i,e,g,u)}else{for(t=0;t<D;t++)for(;Array.isArray(r[t]);)r[t]=r[t][0];for(t=D;t<p;t++)r[t]=u}}function Ga(r,e){var n=Jc(r),u=n.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new qr(0,u,"!=");e=ku(e,u);var t=Va(e);if(u!==t)throw new qr(t,u,"!=");try{return Xc(n,e)}catch(i){throw i instanceof qr?new qr(t,u,"!="):i}}function ku(r,e){var n=Va(r),u=r.slice(),t=-1,i=r.indexOf(t),h=r.indexOf(t,i+1)>=0;if(h)throw new Error("More than one wildcard in sizes");var p=i>=0,D=e%n===0;if(p)if(D)u[i]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return u}function Va(r){return r.reduce((e,n)=>e*n,1)}function Xc(r,e){for(var n=r,u,t=e.length-1;t>0;t--){var i=e[t];u=[];for(var h=n.length/i,p=0;p<h;p++)u.push(n.slice(p*i,(p+1)*i));n=u}return n}function Ya(r,e,n,u){var t=u||be(r);if(n)for(var i=0;i<n;i++)r=[r],t.unshift(1);for(r=Wa(r,e,0);t.length<e;)t.push(1);return r}function Wa(r,e,n){var u,t;if(Array.isArray(r)){var i=n+1;for(u=0,t=r.length;u<t;u++)r[u]=Wa(r[u],e,i)}else for(var h=n;h<e;h++)r=[r];return r}function Jc(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function n(u){Array.isArray(u)?u.forEach(n):e.push(u)}),e}function an(r,e){for(var n,u=0,t=0;t<r.length;t++){var i=r[t],h=Array.isArray(i);if(t===0&&h&&(u=i.length),h&&i.length!==u)return;var p=h?an(i,e):e(i);if(n===void 0)n=p;else if(n!==p)return"mixed"}return n}function Xa(r,e,n,u){if(u<n){if(r.length!==e.length)throw new qr(r.length,e.length);for(var t=[],i=0;i<r.length;i++)t[i]=Xa(r[i],e[i],n,u+1);return t}else return r.concat(e)}function Qc(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(n,u){return Xa(n,u,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function jc(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];for(var u=e.map(l=>l.length),t=Math.max(...u),i=new Array(t).fill(null),h=0;h<e.length;h++)for(var p=e[h],D=u[h],g=0;g<D;g++){var s=t-D+g;p[g]>i[s]&&(i[s]=p[g])}for(var o=0;o<e.length;o++)Ja(e[o],i);return i}function Ja(r,e){for(var n=e.length,u=r.length,t=0;t<u;t++){var i=n-u+t;if(r[t]<e[i]&&r[t]>1||r[t]>e[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(u," with size ").concat(r[t]," to size ").concat(e[i]))}}function oa(r,e){var n=be(r);if(bt(n,e))return r;Ja(n,e);var u=jc(n,e),t=u.length,i=[...Array(t-n.length).fill(1),...n],h=rl(r);n.length<t&&(h=Ga(h,i),n=be(h));for(var p=0;p<t;p++)n[p]<u[p]&&(h=Kc(h,u[p],p),n=be(h));return h}function Kc(r,e,n){return Qc(...Array(e).fill(r),n)}function rl(r){return en([],r)}function yr(r,e,n,u){function t(i){var h=Pc(i,e.map(nl));return el(r,e,i),n(h)}return t.isFactory=!0,t.fn=r,t.dependencies=e.slice().sort(),u&&(t.meta=u),t}function el(r,e,n){var u=e.filter(i=>!tl(i)).every(i=>n[i]!==void 0);if(!u){var t=e.filter(i=>n[i]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(t.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function tl(r){return r&&r[0]==="?"}function nl(r){return r&&r[0]==="?"?r.slice(1):r}function ul(r,e){if(ja(r)&&Qa(r,e))return r[e];throw typeof r[e]=="function"&&ol(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function il(r,e,n){if(ja(r)&&Qa(r,e))return r[e]=n,n;throw new Error('No access to property "'+e+'"')}function al(r,e){return e in r}function Qa(r,e){return!r||typeof r!="object"?!1:nn(sl,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ol(r,e){return r==null||typeof r[e]!="function"||nn(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:nn(fl,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ja(r){return typeof r=="object"&&r&&r.constructor===Object}var sl={length:!0,name:!0},fl={toString:!0,valueOf:!0,toLocaleString:!0};class cl{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return ul(this.wrappedObject,e)}set(e,n){return il(this.wrappedObject,e,n),this}has(e){return al(this.wrappedObject,e)}entries(){return ll(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var n of this.keys())e(this.get(n),n,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function ll(r,e){return{next:()=>{var n=r.next();return n.done?n:{value:e(n.value),done:!1}}}}function hl(r){return r?r instanceof Map||r instanceof cl||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var Ka=function(){return Ka=Ki.create,Ki},vl=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],pl=yr("typed",vl,function(e){var{BigNumber:n,Complex:u,DenseMatrix:t,Fraction:i}=e,h=Ka();return h.clear(),h.addTypes([{name:"number",test:kr},{name:"Complex",test:za},{name:"BigNumber",test:jr},{name:"Fraction",test:ka},{name:"Unit",test:Ra},{name:"identifier",test:p=>Se&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(p)},{name:"string",test:Se},{name:"Chain",test:Oc},{name:"Array",test:Zr},{name:"Matrix",test:ee},{name:"DenseMatrix",test:oc},{name:"SparseMatrix",test:sc},{name:"Range",test:fc},{name:"Index",test:Pu},{name:"boolean",test:cc},{name:"ResultSet",test:lc},{name:"Help",test:hc},{name:"function",test:vc},{name:"Date",test:pc},{name:"RegExp",test:dc},{name:"null",test:Dc},{name:"undefined",test:gc},{name:"AccessorNode",test:mc},{name:"ArrayNode",test:wc},{name:"AssignmentNode",test:bc},{name:"BlockNode",test:yc},{name:"ConditionalNode",test:Fc},{name:"ConstantNode",test:Ec},{name:"FunctionNode",test:Cc},{name:"FunctionAssignmentNode",test:Ac},{name:"IndexNode",test:_c},{name:"Node",test:Nc},{name:"ObjectNode",test:Bc},{name:"OperatorNode",test:Mc},{name:"ParenthesisNode",test:Sc},{name:"RangeNode",test:Tc},{name:"RelationalNode",test:xc},{name:"SymbolNode",test:$c},{name:"Map",test:hl},{name:"Object",test:zu}]),h.addConversions([{from:"number",to:"BigNumber",convert:function(D){if(n||yu(D),Uc(D)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+D+"). Use function bignumber(x) to convert to BigNumber.");return new n(D)}},{from:"number",to:"Complex",convert:function(D){return u||Yt(D),new u(D,0)}},{from:"BigNumber",to:"Complex",convert:function(D){return u||Yt(D),new u(D.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(D){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(D){return u||Yt(D),new u(D.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(D){i||Fu(D);var g=new i(D);if(g.valueOf()!==D)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+D+"). Use function fraction(x) to convert to Fraction.");return g}},{from:"string",to:"number",convert:function(D){var g=Number(D);if(isNaN(g))throw new Error('Cannot convert "'+D+'" to a number');return g}},{from:"string",to:"BigNumber",convert:function(D){n||yu(D);try{return new n(D)}catch(g){throw new Error('Cannot convert "'+D+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(D){i||Fu(D);try{return new i(D)}catch(g){throw new Error('Cannot convert "'+D+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(D){u||Yt(D);try{return new u(D)}catch(g){throw new Error('Cannot convert "'+D+'" to Complex')}}},{from:"boolean",to:"number",convert:function(D){return+D}},{from:"boolean",to:"BigNumber",convert:function(D){return n||yu(D),new n(+D)}},{from:"boolean",to:"Fraction",convert:function(D){return i||Fu(D),new i(+D)}},{from:"boolean",to:"string",convert:function(D){return String(D)}},{from:"Array",to:"Matrix",convert:function(D){return t||dl(),new t(D)}},{from:"Matrix",to:"Array",convert:function(D){return D.valueOf()}}]),h.onMismatch=(p,D,g)=>{var s=h.createError(p,D,g);if(["wrongType","mismatch"].includes(s.data.category)&&D.length===1&&tn(D[0])&&g.some(l=>!l.params.includes(","))){var o=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw o.data=s.data,o}throw s},h.onMismatch=(p,D,g)=>{var s=h.createError(p,D,g);if(["wrongType","mismatch"].includes(s.data.category)&&D.length===1&&tn(D[0])&&g.some(l=>!l.params.includes(","))){var o=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw o.data=s.data,o}throw s},h});function yu(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function Yt(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function dl(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Fu(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var gt=9e15,Ve=1e9,Bu="0123456789abcdef",on="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",sn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Mu={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-gt,maxE:gt,crypto:!1},ro,Ie,hr=!0,pn="[DecimalError] ",Ge=pn+"Invalid argument: ",eo=pn+"Precision limit exceeded",to=pn+"crypto unavailable",no="[object Decimal]",he=Math.floor,re=Math.pow,Dl=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,gl=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ml=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,uo=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Be=1e7,lr=7,wl=9007199254740991,bl=on.length-1,Su=sn.length-1,H={toStringTag:no};H.absoluteValue=H.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),ar(r)};H.ceil=function(){return ar(new this.constructor(this),this.e+1,2)};H.clampedTo=H.clamp=function(r,e){var n,u=this,t=u.constructor;if(r=new t(r),e=new t(e),!r.s||!e.s)return new t(NaN);if(r.gt(e))throw Error(Ge+e);return n=u.cmp(r),n<0?r:u.cmp(e)>0?e:new t(u)};H.comparedTo=H.cmp=function(r){var e,n,u,t,i=this,h=i.d,p=(r=new i.constructor(r)).d,D=i.s,g=r.s;if(!h||!p)return!D||!g?NaN:D!==g?D:h===p?0:!h^D<0?1:-1;if(!h[0]||!p[0])return h[0]?D:p[0]?-g:0;if(D!==g)return D;if(i.e!==r.e)return i.e>r.e^D<0?1:-1;for(u=h.length,t=p.length,e=0,n=u<t?u:t;e<n;++e)if(h[e]!==p[e])return h[e]>p[e]^D<0?1:-1;return u===t?0:u>t^D<0?1:-1};H.cosine=H.cos=function(){var r,e,n=this,u=n.constructor;return n.d?n.d[0]?(r=u.precision,e=u.rounding,u.precision=r+Math.max(n.e,n.sd())+lr,u.rounding=1,n=yl(u,fo(u,n)),u.precision=r,u.rounding=e,ar(Ie==2||Ie==3?n.neg():n,r,e,!0)):new u(1):new u(NaN)};H.cubeRoot=H.cbrt=function(){var r,e,n,u,t,i,h,p,D,g,s=this,o=s.constructor;if(!s.isFinite()||s.isZero())return new o(s);for(hr=!1,i=s.s*re(s.s*s,1/3),!i||Math.abs(i)==1/0?(n=fe(s.d),r=s.e,(i=(r-n.length+1)%3)&&(n+=i==1||i==-2?"0":"00"),i=re(n,1/3),r=he((r+1)/3)-(r%3==(r<0?-1:2)),i==1/0?n="5e"+r:(n=i.toExponential(),n=n.slice(0,n.indexOf("e")+1)+r),u=new o(n),u.s=s.s):u=new o(i.toString()),h=(r=o.precision)+3;;)if(p=u,D=p.times(p).times(p),g=D.plus(s),u=Pr(g.plus(s).times(p),g.plus(D),h+2,1),fe(p.d).slice(0,h)===(n=fe(u.d)).slice(0,h))if(n=n.slice(h-3,h+1),n=="9999"||!t&&n=="4999"){if(!t&&(ar(p,r+1,0),p.times(p).times(p).eq(s))){u=p;break}h+=4,t=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(ar(u,r+1,1),e=!u.times(u).times(u).eq(s));break}return hr=!0,ar(u,r,o.rounding,e)};H.decimalPlaces=H.dp=function(){var r,e=this.d,n=NaN;if(e){if(r=e.length-1,n=(r-he(this.e/lr))*lr,r=e[r],r)for(;r%10==0;r/=10)n--;n<0&&(n=0)}return n};H.dividedBy=H.div=function(r){return Pr(this,new this.constructor(r))};H.dividedToIntegerBy=H.divToInt=function(r){var e=this,n=e.constructor;return ar(Pr(e,new n(r),0,1,1),n.precision,n.rounding)};H.equals=H.eq=function(r){return this.cmp(r)===0};H.floor=function(){return ar(new this.constructor(this),this.e+1,3)};H.greaterThan=H.gt=function(r){return this.cmp(r)>0};H.greaterThanOrEqualTo=H.gte=function(r){var e=this.cmp(r);return e==1||e===0};H.hyperbolicCosine=H.cosh=function(){var r,e,n,u,t,i=this,h=i.constructor,p=new h(1);if(!i.isFinite())return new h(i.s?1/0:NaN);if(i.isZero())return p;n=h.precision,u=h.rounding,h.precision=n+Math.max(i.e,i.sd())+4,h.rounding=1,t=i.d.length,t<32?(r=Math.ceil(t/3),e=(1/Dn(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),i=yt(h,1,i.times(e),new h(1),!0);for(var D,g=r,s=new h(8);g--;)D=i.times(i),i=p.minus(D.times(s.minus(D.times(s))));return ar(i,h.precision=n,h.rounding=u,!0)};H.hyperbolicSine=H.sinh=function(){var r,e,n,u,t=this,i=t.constructor;if(!t.isFinite()||t.isZero())return new i(t);if(e=i.precision,n=i.rounding,i.precision=e+Math.max(t.e,t.sd())+4,i.rounding=1,u=t.d.length,u<3)t=yt(i,2,t,t,!0);else{r=1.4*Math.sqrt(u),r=r>16?16:r|0,t=t.times(1/Dn(5,r)),t=yt(i,2,t,t,!0);for(var h,p=new i(5),D=new i(16),g=new i(20);r--;)h=t.times(t),t=t.times(p.plus(h.times(D.times(h).plus(g))))}return i.precision=e,i.rounding=n,ar(t,e,n,!0)};H.hyperbolicTangent=H.tanh=function(){var r,e,n=this,u=n.constructor;return n.isFinite()?n.isZero()?new u(n):(r=u.precision,e=u.rounding,u.precision=r+7,u.rounding=1,Pr(n.sinh(),n.cosh(),u.precision=r,u.rounding=e)):new u(n.s)};H.inverseCosine=H.acos=function(){var r,e=this,n=e.constructor,u=e.abs().cmp(1),t=n.precision,i=n.rounding;return u!==-1?u===0?e.isNeg()?Ne(n,t,i):new n(0):new n(NaN):e.isZero()?Ne(n,t+4,i).times(.5):(n.precision=t+6,n.rounding=1,e=e.asin(),r=Ne(n,t+4,i).times(.5),n.precision=t,n.rounding=i,r.minus(e))};H.inverseHyperbolicCosine=H.acosh=function(){var r,e,n=this,u=n.constructor;return n.lte(1)?new u(n.eq(1)?0:NaN):n.isFinite()?(r=u.precision,e=u.rounding,u.precision=r+Math.max(Math.abs(n.e),n.sd())+4,u.rounding=1,hr=!1,n=n.times(n).minus(1).sqrt().plus(n),hr=!0,u.precision=r,u.rounding=e,n.ln()):new u(n)};H.inverseHyperbolicSine=H.asinh=function(){var r,e,n=this,u=n.constructor;return!n.isFinite()||n.isZero()?new u(n):(r=u.precision,e=u.rounding,u.precision=r+2*Math.max(Math.abs(n.e),n.sd())+6,u.rounding=1,hr=!1,n=n.times(n).plus(1).sqrt().plus(n),hr=!0,u.precision=r,u.rounding=e,n.ln())};H.inverseHyperbolicTangent=H.atanh=function(){var r,e,n,u,t=this,i=t.constructor;return t.isFinite()?t.e>=0?new i(t.abs().eq(1)?t.s/0:t.isZero()?t:NaN):(r=i.precision,e=i.rounding,u=t.sd(),Math.max(u,r)<2*-t.e-1?ar(new i(t),r,e,!0):(i.precision=n=u-t.e,t=Pr(t.plus(1),new i(1).minus(t),n+r,1),i.precision=r+4,i.rounding=1,t=t.ln(),i.precision=r,i.rounding=e,t.times(.5))):new i(NaN)};H.inverseSine=H.asin=function(){var r,e,n,u,t=this,i=t.constructor;return t.isZero()?new i(t):(e=t.abs().cmp(1),n=i.precision,u=i.rounding,e!==-1?e===0?(r=Ne(i,n+4,u).times(.5),r.s=t.s,r):new i(NaN):(i.precision=n+6,i.rounding=1,t=t.div(new i(1).minus(t.times(t)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=u,t.times(2)))};H.inverseTangent=H.atan=function(){var r,e,n,u,t,i,h,p,D,g=this,s=g.constructor,o=s.precision,l=s.rounding;if(g.isFinite()){if(g.isZero())return new s(g);if(g.abs().eq(1)&&o+4<=Su)return h=Ne(s,o+4,l).times(.25),h.s=g.s,h}else{if(!g.s)return new s(NaN);if(o+4<=Su)return h=Ne(s,o+4,l).times(.5),h.s=g.s,h}for(s.precision=p=o+10,s.rounding=1,n=Math.min(28,p/lr+2|0),r=n;r;--r)g=g.div(g.times(g).plus(1).sqrt().plus(1));for(hr=!1,e=Math.ceil(p/lr),u=1,D=g.times(g),h=new s(g),t=g;r!==-1;)if(t=t.times(D),i=h.minus(t.div(u+=2)),t=t.times(D),h=i.plus(t.div(u+=2)),h.d[e]!==void 0)for(r=e;h.d[r]===i.d[r]&&r--;);return n&&(h=h.times(2<<n-1)),hr=!0,ar(h,s.precision=o,s.rounding=l,!0)};H.isFinite=function(){return!!this.d};H.isInteger=H.isInt=function(){return!!this.d&&he(this.e/lr)>this.d.length-2};H.isNaN=function(){return!this.s};H.isNegative=H.isNeg=function(){return this.s<0};H.isPositive=H.isPos=function(){return this.s>0};H.isZero=function(){return!!this.d&&this.d[0]===0};H.lessThan=H.lt=function(r){return this.cmp(r)<0};H.lessThanOrEqualTo=H.lte=function(r){return this.cmp(r)<1};H.logarithm=H.log=function(r){var e,n,u,t,i,h,p,D,g=this,s=g.constructor,o=s.precision,l=s.rounding,v=5;if(r==null)r=new s(10),e=!0;else{if(r=new s(r),n=r.d,r.s<0||!n||!n[0]||r.eq(1))return new s(NaN);e=r.eq(10)}if(n=g.d,g.s<0||!n||!n[0]||g.eq(1))return new s(n&&!n[0]?-1/0:g.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)i=!0;else{for(t=n[0];t%10===0;)t/=10;i=t!==1}if(hr=!1,p=o+v,h=He(g,p),u=e?fn(s,p+10):He(r,p),D=Pr(h,u,p,1),Tt(D.d,t=o,l))do if(p+=10,h=He(g,p),u=e?fn(s,p+10):He(r,p),D=Pr(h,u,p,1),!i){+fe(D.d).slice(t+1,t+15)+1==1e14&&(D=ar(D,o+1,0));break}while(Tt(D.d,t+=10,l));return hr=!0,ar(D,o,l)};H.minus=H.sub=function(r){var e,n,u,t,i,h,p,D,g,s,o,l,v=this,y=v.constructor;if(r=new y(r),!v.d||!r.d)return!v.s||!r.s?r=new y(NaN):v.d?r.s=-r.s:r=new y(r.d||v.s!==r.s?v:NaN),r;if(v.s!=r.s)return r.s=-r.s,v.plus(r);if(g=v.d,l=r.d,p=y.precision,D=y.rounding,!g[0]||!l[0]){if(l[0])r.s=-r.s;else if(g[0])r=new y(v);else return new y(D===3?-0:0);return hr?ar(r,p,D):r}if(n=he(r.e/lr),s=he(v.e/lr),g=g.slice(),i=s-n,i){for(o=i<0,o?(e=g,i=-i,h=l.length):(e=l,n=s,h=g.length),u=Math.max(Math.ceil(p/lr),h)+2,i>u&&(i=u,e.length=1),e.reverse(),u=i;u--;)e.push(0);e.reverse()}else{for(u=g.length,h=l.length,o=u<h,o&&(h=u),u=0;u<h;u++)if(g[u]!=l[u]){o=g[u]<l[u];break}i=0}for(o&&(e=g,g=l,l=e,r.s=-r.s),h=g.length,u=l.length-h;u>0;--u)g[h++]=0;for(u=l.length;u>i;){if(g[--u]<l[u]){for(t=u;t&&g[--t]===0;)g[t]=Be-1;--g[t],g[u]+=Be}g[u]-=l[u]}for(;g[--h]===0;)g.pop();for(;g[0]===0;g.shift())--n;return g[0]?(r.d=g,r.e=dn(g,n),hr?ar(r,p,D):r):new y(D===3?-0:0)};H.modulo=H.mod=function(r){var e,n=this,u=n.constructor;return r=new u(r),!n.d||!r.s||r.d&&!r.d[0]?new u(NaN):!r.d||n.d&&!n.d[0]?ar(new u(n),u.precision,u.rounding):(hr=!1,u.modulo==9?(e=Pr(n,r.abs(),0,3,1),e.s*=r.s):e=Pr(n,r,0,u.modulo,1),e=e.times(r),hr=!0,n.minus(e))};H.naturalExponential=H.exp=function(){return Tu(this)};H.naturalLogarithm=H.ln=function(){return He(this)};H.negated=H.neg=function(){var r=new this.constructor(this);return r.s=-r.s,ar(r)};H.plus=H.add=function(r){var e,n,u,t,i,h,p,D,g,s,o=this,l=o.constructor;if(r=new l(r),!o.d||!r.d)return!o.s||!r.s?r=new l(NaN):o.d||(r=new l(r.d||o.s===r.s?o:NaN)),r;if(o.s!=r.s)return r.s=-r.s,o.minus(r);if(g=o.d,s=r.d,p=l.precision,D=l.rounding,!g[0]||!s[0])return s[0]||(r=new l(o)),hr?ar(r,p,D):r;if(i=he(o.e/lr),u=he(r.e/lr),g=g.slice(),t=i-u,t){for(t<0?(n=g,t=-t,h=s.length):(n=s,u=i,h=g.length),i=Math.ceil(p/lr),h=i>h?i+1:h+1,t>h&&(t=h,n.length=1),n.reverse();t--;)n.push(0);n.reverse()}for(h=g.length,t=s.length,h-t<0&&(t=h,n=s,s=g,g=n),e=0;t;)e=(g[--t]=g[t]+s[t]+e)/Be|0,g[t]%=Be;for(e&&(g.unshift(e),++u),h=g.length;g[--h]==0;)g.pop();return r.d=g,r.e=dn(g,u),hr?ar(r,p,D):r};H.precision=H.sd=function(r){var e,n=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Ge+r);return n.d?(e=io(n.d),r&&n.e+1>e&&(e=n.e+1)):e=NaN,e};H.round=function(){var r=this,e=r.constructor;return ar(new e(r),r.e+1,e.rounding)};H.sine=H.sin=function(){var r,e,n=this,u=n.constructor;return n.isFinite()?n.isZero()?new u(n):(r=u.precision,e=u.rounding,u.precision=r+Math.max(n.e,n.sd())+lr,u.rounding=1,n=El(u,fo(u,n)),u.precision=r,u.rounding=e,ar(Ie>2?n.neg():n,r,e,!0)):new u(NaN)};H.squareRoot=H.sqrt=function(){var r,e,n,u,t,i,h=this,p=h.d,D=h.e,g=h.s,s=h.constructor;if(g!==1||!p||!p[0])return new s(!g||g<0&&(!p||p[0])?NaN:p?h:1/0);for(hr=!1,g=Math.sqrt(+h),g==0||g==1/0?(e=fe(p),(e.length+D)%2==0&&(e+="0"),g=Math.sqrt(e),D=he((D+1)/2)-(D<0||D%2),g==1/0?e="5e"+D:(e=g.toExponential(),e=e.slice(0,e.indexOf("e")+1)+D),u=new s(e)):u=new s(g.toString()),n=(D=s.precision)+3;;)if(i=u,u=i.plus(Pr(h,i,n+2,1)).times(.5),fe(i.d).slice(0,n)===(e=fe(u.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!t&&e=="4999"){if(!t&&(ar(i,D+1,0),i.times(i).eq(h))){u=i;break}n+=4,t=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(ar(u,D+1,1),r=!u.times(u).eq(h));break}return hr=!0,ar(u,D,s.rounding,r)};H.tangent=H.tan=function(){var r,e,n=this,u=n.constructor;return n.isFinite()?n.isZero()?new u(n):(r=u.precision,e=u.rounding,u.precision=r+10,u.rounding=1,n=n.sin(),n.s=1,n=Pr(n,new u(1).minus(n.times(n)).sqrt(),r+10,0),u.precision=r,u.rounding=e,ar(Ie==2||Ie==4?n.neg():n,r,e,!0)):new u(NaN)};H.times=H.mul=function(r){var e,n,u,t,i,h,p,D,g,s=this,o=s.constructor,l=s.d,v=(r=new o(r)).d;if(r.s*=s.s,!l||!l[0]||!v||!v[0])return new o(!r.s||l&&!l[0]&&!v||v&&!v[0]&&!l?NaN:!l||!v?r.s/0:r.s*0);for(n=he(s.e/lr)+he(r.e/lr),D=l.length,g=v.length,D<g&&(i=l,l=v,v=i,h=D,D=g,g=h),i=[],h=D+g,u=h;u--;)i.push(0);for(u=g;--u>=0;){for(e=0,t=D+u;t>u;)p=i[t]+v[u]*l[t-u-1]+e,i[t--]=p%Be|0,e=p/Be|0;i[t]=(i[t]+e)%Be|0}for(;!i[--h];)i.pop();return e?++n:i.shift(),r.d=i,r.e=dn(i,n),hr?ar(r,o.precision,o.rounding):r};H.toBinary=function(r,e){return Ru(this,2,r,e)};H.toDecimalPlaces=H.toDP=function(r,e){var n=this,u=n.constructor;return n=new u(n),r===void 0?n:(ge(r,0,Ve),e===void 0?e=u.rounding:ge(e,0,8),ar(n,r+n.e+1,e))};H.toExponential=function(r,e){var n,u=this,t=u.constructor;return r===void 0?n=Te(u,!0):(ge(r,0,Ve),e===void 0?e=t.rounding:ge(e,0,8),u=ar(new t(u),r+1,e),n=Te(u,!0,r+1)),u.isNeg()&&!u.isZero()?"-"+n:n};H.toFixed=function(r,e){var n,u,t=this,i=t.constructor;return r===void 0?n=Te(t):(ge(r,0,Ve),e===void 0?e=i.rounding:ge(e,0,8),u=ar(new i(t),r+t.e+1,e),n=Te(u,!1,r+u.e+1)),t.isNeg()&&!t.isZero()?"-"+n:n};H.toFraction=function(r){var e,n,u,t,i,h,p,D,g,s,o,l,v=this,y=v.d,f=v.constructor;if(!y)return new f(v);if(g=n=new f(1),u=D=new f(0),e=new f(u),i=e.e=io(y)-v.e-1,h=i%lr,e.d[0]=re(10,h<0?lr+h:h),r==null)r=i>0?e:g;else{if(p=new f(r),!p.isInt()||p.lt(g))throw Error(Ge+p);r=p.gt(e)?i>0?e:g:p}for(hr=!1,p=new f(fe(y)),s=f.precision,f.precision=i=y.length*lr*2;o=Pr(p,e,0,1,1),t=n.plus(o.times(u)),t.cmp(r)!=1;)n=u,u=t,t=g,g=D.plus(o.times(t)),D=t,t=e,e=p.minus(o.times(t)),p=t;return t=Pr(r.minus(n),u,0,1,1),D=D.plus(t.times(g)),n=n.plus(t.times(u)),D.s=g.s=v.s,l=Pr(g,u,i,1).minus(v).abs().cmp(Pr(D,n,i,1).minus(v).abs())<1?[g,u]:[D,n],f.precision=s,hr=!0,l};H.toHexadecimal=H.toHex=function(r,e){return Ru(this,16,r,e)};H.toNearest=function(r,e){var n=this,u=n.constructor;if(n=new u(n),r==null){if(!n.d)return n;r=new u(1),e=u.rounding}else{if(r=new u(r),e===void 0?e=u.rounding:ge(e,0,8),!n.d)return r.s?n:r;if(!r.d)return r.s&&(r.s=n.s),r}return r.d[0]?(hr=!1,n=Pr(n,r,0,e,1).times(r),hr=!0,ar(n)):(r.s=n.s,n=r),n};H.toNumber=function(){return+this};H.toOctal=function(r,e){return Ru(this,8,r,e)};H.toPower=H.pow=function(r){var e,n,u,t,i,h,p=this,D=p.constructor,g=+(r=new D(r));if(!p.d||!r.d||!p.d[0]||!r.d[0])return new D(re(+p,g));if(p=new D(p),p.eq(1))return p;if(u=D.precision,i=D.rounding,r.eq(1))return ar(p,u,i);if(e=he(r.e/lr),e>=r.d.length-1&&(n=g<0?-g:g)<=wl)return t=ao(D,p,n,u),r.s<0?new D(1).div(t):ar(t,u,i);if(h=p.s,h<0){if(e<r.d.length-1)return new D(NaN);if(r.d[e]&1||(h=1),p.e==0&&p.d[0]==1&&p.d.length==1)return p.s=h,p}return n=re(+p,g),e=n==0||!isFinite(n)?he(g*(Math.log("0."+fe(p.d))/Math.LN10+p.e+1)):new D(n+"").e,e>D.maxE+1||e<D.minE-1?new D(e>0?h/0:0):(hr=!1,D.rounding=p.s=1,n=Math.min(12,(e+"").length),t=Tu(r.times(He(p,u+n)),u),t.d&&(t=ar(t,u+5,1),Tt(t.d,u,i)&&(e=u+10,t=ar(Tu(r.times(He(p,e+n)),e),e+5,1),+fe(t.d).slice(u+1,u+15)+1==1e14&&(t=ar(t,u+1,0)))),t.s=h,hr=!0,D.rounding=i,ar(t,u,i))};H.toPrecision=function(r,e){var n,u=this,t=u.constructor;return r===void 0?n=Te(u,u.e<=t.toExpNeg||u.e>=t.toExpPos):(ge(r,1,Ve),e===void 0?e=t.rounding:ge(e,0,8),u=ar(new t(u),r,e),n=Te(u,r<=u.e||u.e<=t.toExpNeg,r)),u.isNeg()&&!u.isZero()?"-"+n:n};H.toSignificantDigits=H.toSD=function(r,e){var n=this,u=n.constructor;return r===void 0?(r=u.precision,e=u.rounding):(ge(r,1,Ve),e===void 0?e=u.rounding:ge(e,0,8)),ar(new u(n),r,e)};H.toString=function(){var r=this,e=r.constructor,n=Te(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+n:n};H.truncated=H.trunc=function(){return ar(new this.constructor(this),this.e+1,1)};H.valueOf=H.toJSON=function(){var r=this,e=r.constructor,n=Te(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+n:n};function fe(r){var e,n,u,t=r.length-1,i="",h=r[0];if(t>0){for(i+=h,e=1;e<t;e++)u=r[e]+"",n=lr-u.length,n&&(i+=Ze(n)),i+=u;h=r[e],u=h+"",n=lr-u.length,n&&(i+=Ze(n))}else if(h===0)return"0";for(;h%10===0;)h/=10;return i+h}function ge(r,e,n){if(r!==~~r||r<e||r>n)throw Error(Ge+r)}function Tt(r,e,n,u){var t,i,h,p;for(i=r[0];i>=10;i/=10)--e;return--e<0?(e+=lr,t=0):(t=Math.ceil((e+1)/lr),e%=lr),i=re(10,lr-e),p=r[t]%i|0,u==null?e<3?(e==0?p=p/100|0:e==1&&(p=p/10|0),h=n<4&&p==99999||n>3&&p==49999||p==5e4||p==0):h=(n<4&&p+1==i||n>3&&p+1==i/2)&&(r[t+1]/i/100|0)==re(10,e-2)-1||(p==i/2||p==0)&&(r[t+1]/i/100|0)==0:e<4?(e==0?p=p/1e3|0:e==1?p=p/100|0:e==2&&(p=p/10|0),h=(u||n<4)&&p==9999||!u&&n>3&&p==4999):h=((u||n<4)&&p+1==i||!u&&n>3&&p+1==i/2)&&(r[t+1]/i/1e3|0)==re(10,e-3)-1,h}function Qt(r,e,n){for(var u,t=[0],i,h=0,p=r.length;h<p;){for(i=t.length;i--;)t[i]*=e;for(t[0]+=Bu.indexOf(r.charAt(h++)),u=0;u<t.length;u++)t[u]>n-1&&(t[u+1]===void 0&&(t[u+1]=0),t[u+1]+=t[u]/n|0,t[u]%=n)}return t.reverse()}function yl(r,e){var n,u,t;if(e.isZero())return e;u=e.d.length,u<32?(n=Math.ceil(u/3),t=(1/Dn(4,n)).toString()):(n=16,t="2.3283064365386962890625e-10"),r.precision+=n,e=yt(r,1,e.times(t),new r(1));for(var i=n;i--;){var h=e.times(e);e=h.times(h).minus(h).times(8).plus(1)}return r.precision-=n,e}var Pr=function(){function r(u,t,i){var h,p=0,D=u.length;for(u=u.slice();D--;)h=u[D]*t+p,u[D]=h%i|0,p=h/i|0;return p&&u.unshift(p),u}function e(u,t,i,h){var p,D;if(i!=h)D=i>h?1:-1;else for(p=D=0;p<i;p++)if(u[p]!=t[p]){D=u[p]>t[p]?1:-1;break}return D}function n(u,t,i,h){for(var p=0;i--;)u[i]-=p,p=u[i]<t[i]?1:0,u[i]=p*h+u[i]-t[i];for(;!u[0]&&u.length>1;)u.shift()}return function(u,t,i,h,p,D){var g,s,o,l,v,y,f,F,m,A,b,B,C,w,T,I,P,U,k,R,ir=u.constructor,nr=u.s==t.s?1:-1,er=u.d,Q=t.d;if(!er||!er[0]||!Q||!Q[0])return new ir(!u.s||!t.s||(er?Q&&er[0]==Q[0]:!Q)?NaN:er&&er[0]==0||!Q?nr*0:nr/0);for(D?(v=1,s=u.e-t.e):(D=Be,v=lr,s=he(u.e/v)-he(t.e/v)),k=Q.length,P=er.length,m=new ir(nr),A=m.d=[],o=0;Q[o]==(er[o]||0);o++);if(Q[o]>(er[o]||0)&&s--,i==null?(w=i=ir.precision,h=ir.rounding):p?w=i+(u.e-t.e)+1:w=i,w<0)A.push(1),y=!0;else{if(w=w/v+2|0,o=0,k==1){for(l=0,Q=Q[0],w++;(o<P||l)&&w--;o++)T=l*D+(er[o]||0),A[o]=T/Q|0,l=T%Q|0;y=l||o<P}else{for(l=D/(Q[0]+1)|0,l>1&&(Q=r(Q,l,D),er=r(er,l,D),k=Q.length,P=er.length),I=k,b=er.slice(0,k),B=b.length;B<k;)b[B++]=0;R=Q.slice(),R.unshift(0),U=Q[0],Q[1]>=D/2&&++U;do l=0,g=e(Q,b,k,B),g<0?(C=b[0],k!=B&&(C=C*D+(b[1]||0)),l=C/U|0,l>1?(l>=D&&(l=D-1),f=r(Q,l,D),F=f.length,B=b.length,g=e(f,b,F,B),g==1&&(l--,n(f,k<F?R:Q,F,D))):(l==0&&(g=l=1),f=Q.slice()),F=f.length,F<B&&f.unshift(0),n(b,f,B,D),g==-1&&(B=b.length,g=e(Q,b,k,B),g<1&&(l++,n(b,k<B?R:Q,B,D))),B=b.length):g===0&&(l++,b=[0]),A[o++]=l,g&&b[0]?b[B++]=er[I]||0:(b=[er[I]],B=1);while((I++<P||b[0]!==void 0)&&w--);y=b[0]!==void 0}A[0]||A.shift()}if(v==1)m.e=s,ro=y;else{for(o=1,l=A[0];l>=10;l/=10)o++;m.e=o+s*v-1,ar(m,p?i+m.e+1:i,h,y)}return m}}();function ar(r,e,n,u){var t,i,h,p,D,g,s,o,l,v=r.constructor;r:if(e!=null){if(o=r.d,!o)return r;for(t=1,p=o[0];p>=10;p/=10)t++;if(i=e-t,i<0)i+=lr,h=e,s=o[l=0],D=s/re(10,t-h-1)%10|0;else if(l=Math.ceil((i+1)/lr),p=o.length,l>=p)if(u){for(;p++<=l;)o.push(0);s=D=0,t=1,i%=lr,h=i-lr+1}else break r;else{for(s=p=o[l],t=1;p>=10;p/=10)t++;i%=lr,h=i-lr+t,D=h<0?0:s/re(10,t-h-1)%10|0}if(u=u||e<0||o[l+1]!==void 0||(h<0?s:s%re(10,t-h-1)),g=n<4?(D||u)&&(n==0||n==(r.s<0?3:2)):D>5||D==5&&(n==4||u||n==6&&(i>0?h>0?s/re(10,t-h):0:o[l-1])%10&1||n==(r.s<0?8:7)),e<1||!o[0])return o.length=0,g?(e-=r.e+1,o[0]=re(10,(lr-e%lr)%lr),r.e=-e||0):o[0]=r.e=0,r;if(i==0?(o.length=l,p=1,l--):(o.length=l+1,p=re(10,lr-i),o[l]=h>0?(s/re(10,t-h)%re(10,h)|0)*p:0),g)for(;;)if(l==0){for(i=1,h=o[0];h>=10;h/=10)i++;for(h=o[0]+=p,p=1;h>=10;h/=10)p++;i!=p&&(r.e++,o[0]==Be&&(o[0]=1));break}else{if(o[l]+=p,o[l]!=Be)break;o[l--]=0,p=1}for(i=o.length;o[--i]===0;)o.pop()}return hr&&(r.e>v.maxE?(r.d=null,r.e=NaN):r.e<v.minE&&(r.e=0,r.d=[0])),r}function Te(r,e,n){if(!r.isFinite())return so(r);var u,t=r.e,i=fe(r.d),h=i.length;return e?(n&&(u=n-h)>0?i=i.charAt(0)+"."+i.slice(1)+Ze(u):h>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(r.e<0?"e":"e+")+r.e):t<0?(i="0."+Ze(-t-1)+i,n&&(u=n-h)>0&&(i+=Ze(u))):t>=h?(i+=Ze(t+1-h),n&&(u=n-t-1)>0&&(i=i+"."+Ze(u))):((u=t+1)<h&&(i=i.slice(0,u)+"."+i.slice(u)),n&&(u=n-h)>0&&(t+1===h&&(i+="."),i+=Ze(u))),i}function dn(r,e){var n=r[0];for(e*=lr;n>=10;n/=10)e++;return e}function fn(r,e,n){if(e>bl)throw hr=!0,n&&(r.precision=n),Error(eo);return ar(new r(on),e,1,!0)}function Ne(r,e,n){if(e>Su)throw Error(eo);return ar(new r(sn),e,n,!0)}function io(r){var e=r.length-1,n=e*lr+1;if(e=r[e],e){for(;e%10==0;e/=10)n--;for(e=r[0];e>=10;e/=10)n++}return n}function Ze(r){for(var e="";r--;)e+="0";return e}function ao(r,e,n,u){var t,i=new r(1),h=Math.ceil(u/lr+4);for(hr=!1;;){if(n%2&&(i=i.times(e),fa(i.d,h)&&(t=!0)),n=he(n/2),n===0){n=i.d.length-1,t&&i.d[n]===0&&++i.d[n];break}e=e.times(e),fa(e.d,h)}return hr=!0,i}function sa(r){return r.d[r.d.length-1]&1}function oo(r,e,n){for(var u,t=new r(e[0]),i=0;++i<e.length;)if(u=new r(e[i]),u.s)t[n](u)&&(t=u);else{t=u;break}return t}function Tu(r,e){var n,u,t,i,h,p,D,g=0,s=0,o=0,l=r.constructor,v=l.rounding,y=l.precision;if(!r.d||!r.d[0]||r.e>17)return new l(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(hr=!1,D=y):D=e,p=new l(.03125);r.e>-2;)r=r.times(p),o+=5;for(u=Math.log(re(2,o))/Math.LN10*2+5|0,D+=u,n=i=h=new l(1),l.precision=D;;){if(i=ar(i.times(r),D,1),n=n.times(++s),p=h.plus(Pr(i,n,D,1)),fe(p.d).slice(0,D)===fe(h.d).slice(0,D)){for(t=o;t--;)h=ar(h.times(h),D,1);if(e==null)if(g<3&&Tt(h.d,D-u,v,g))l.precision=D+=10,n=i=p=new l(1),s=0,g++;else return ar(h,l.precision=y,v,hr=!0);else return l.precision=y,h}h=p}}function He(r,e){var n,u,t,i,h,p,D,g,s,o,l,v=1,y=10,f=r,F=f.d,m=f.constructor,A=m.rounding,b=m.precision;if(f.s<0||!F||!F[0]||!f.e&&F[0]==1&&F.length==1)return new m(F&&!F[0]?-1/0:f.s!=1?NaN:F?0:f);if(e==null?(hr=!1,s=b):s=e,m.precision=s+=y,n=fe(F),u=n.charAt(0),Math.abs(i=f.e)<15e14){for(;u<7&&u!=1||u==1&&n.charAt(1)>3;)f=f.times(r),n=fe(f.d),u=n.charAt(0),v++;i=f.e,u>1?(f=new m("0."+n),i++):f=new m(u+"."+n.slice(1))}else return g=fn(m,s+2,b).times(i+""),f=He(new m(u+"."+n.slice(1)),s-y).plus(g),m.precision=b,e==null?ar(f,b,A,hr=!0):f;for(o=f,D=h=f=Pr(f.minus(1),f.plus(1),s,1),l=ar(f.times(f),s,1),t=3;;){if(h=ar(h.times(l),s,1),g=D.plus(Pr(h,new m(t),s,1)),fe(g.d).slice(0,s)===fe(D.d).slice(0,s))if(D=D.times(2),i!==0&&(D=D.plus(fn(m,s+2,b).times(i+""))),D=Pr(D,new m(v),s,1),e==null)if(Tt(D.d,s-y,A,p))m.precision=s+=y,g=h=f=Pr(o.minus(1),o.plus(1),s,1),l=ar(f.times(f),s,1),t=p=1;else return ar(D,m.precision=b,A,hr=!0);else return m.precision=b,D;D=g,t+=2}}function so(r){return String(r.s*r.s/0)}function xu(r,e){var n,u,t;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(n<0&&(n=u),n+=+e.slice(u+1),e=e.substring(0,u)):n<0&&(n=e.length),u=0;e.charCodeAt(u)===48;u++);for(t=e.length;e.charCodeAt(t-1)===48;--t);if(e=e.slice(u,t),e){if(t-=u,r.e=n=n-u-1,r.d=[],u=(n+1)%lr,n<0&&(u+=lr),u<t){for(u&&r.d.push(+e.slice(0,u)),t-=lr;u<t;)r.d.push(+e.slice(u,u+=lr));e=e.slice(u),u=lr-e.length}else u-=t;for(;u--;)e+="0";r.d.push(+e),hr&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function Fl(r,e){var n,u,t,i,h,p,D,g,s;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),uo.test(e))return xu(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(gl.test(e))n=16,e=e.toLowerCase();else if(Dl.test(e))n=2;else if(ml.test(e))n=8;else throw Error(Ge+e);for(i=e.search(/p/i),i>0?(D=+e.slice(i+1),e=e.substring(2,i)):e=e.slice(2),i=e.indexOf("."),h=i>=0,u=r.constructor,h&&(e=e.replace(".",""),p=e.length,i=p-i,t=ao(u,new u(n),i,i*2)),g=Qt(e,n,Be),s=g.length-1,i=s;g[i]===0;--i)g.pop();return i<0?new u(r.s*0):(r.e=dn(g,s),r.d=g,hr=!1,h&&(r=Pr(r,t,p*4)),D&&(r=r.times(Math.abs(D)<54?re(2,D):Ft.pow(2,D))),hr=!0,r)}function El(r,e){var n,u=e.d.length;if(u<3)return e.isZero()?e:yt(r,2,e,e);n=1.4*Math.sqrt(u),n=n>16?16:n|0,e=e.times(1/Dn(5,n)),e=yt(r,2,e,e);for(var t,i=new r(5),h=new r(16),p=new r(20);n--;)t=e.times(e),e=e.times(i.plus(t.times(h.times(t).minus(p))));return e}function yt(r,e,n,u,t){var i,h,p,D,g=r.precision,s=Math.ceil(g/lr);for(hr=!1,D=n.times(n),p=new r(u);;){if(h=Pr(p.times(D),new r(e++*e++),g,1),p=t?u.plus(h):u.minus(h),u=Pr(h.times(D),new r(e++*e++),g,1),h=p.plus(u),h.d[s]!==void 0){for(i=s;h.d[i]===p.d[i]&&i--;);if(i==-1)break}i=p,p=u,u=h,h=i}return hr=!0,h.d.length=s+1,h}function Dn(r,e){for(var n=r;--e;)n*=r;return n}function fo(r,e){var n,u=e.s<0,t=Ne(r,r.precision,1),i=t.times(.5);if(e=e.abs(),e.lte(i))return Ie=u?4:1,e;if(n=e.divToInt(t),n.isZero())Ie=u?3:2;else{if(e=e.minus(n.times(t)),e.lte(i))return Ie=sa(n)?u?2:3:u?4:1,e;Ie=sa(n)?u?1:4:u?3:2}return e.minus(t).abs()}function Ru(r,e,n,u){var t,i,h,p,D,g,s,o,l,v=r.constructor,y=n!==void 0;if(y?(ge(n,1,Ve),u===void 0?u=v.rounding:ge(u,0,8)):(n=v.precision,u=v.rounding),!r.isFinite())s=so(r);else{for(s=Te(r),h=s.indexOf("."),y?(t=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):t=e,h>=0&&(s=s.replace(".",""),l=new v(1),l.e=s.length-h,l.d=Qt(Te(l),10,t),l.e=l.d.length),o=Qt(s,10,t),i=D=o.length;o[--D]==0;)o.pop();if(!o[0])s=y?"0p+0":"0";else{if(h<0?i--:(r=new v(r),r.d=o,r.e=i,r=Pr(r,l,n,u,0,t),o=r.d,i=r.e,g=ro),h=o[n],p=t/2,g=g||o[n+1]!==void 0,g=u<4?(h!==void 0||g)&&(u===0||u===(r.s<0?3:2)):h>p||h===p&&(u===4||g||u===6&&o[n-1]&1||u===(r.s<0?8:7)),o.length=n,g)for(;++o[--n]>t-1;)o[n]=0,n||(++i,o.unshift(1));for(D=o.length;!o[D-1];--D);for(h=0,s="";h<D;h++)s+=Bu.charAt(o[h]);if(y){if(D>1)if(e==16||e==8){for(h=e==16?4:3,--D;D%h;D++)s+="0";for(o=Qt(s,t,e),D=o.length;!o[D-1];--D);for(h=1,s="1.";h<D;h++)s+=Bu.charAt(o[h])}else s=s.charAt(0)+"."+s.slice(1);s=s+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)s="0"+s;s="0."+s}else if(++i>D)for(i-=D;i--;)s+="0";else i<D&&(s=s.slice(0,i)+"."+s.slice(i))}s=(e==16?"0x":e==2?"0b":e==8?"0o":"")+s}return r.s<0?"-"+s:s}function fa(r,e){if(r.length>e)return r.length=e,!0}function Al(r){return new this(r).abs()}function Cl(r){return new this(r).acos()}function _l(r){return new this(r).acosh()}function Nl(r,e){return new this(r).plus(e)}function Bl(r){return new this(r).asin()}function Ml(r){return new this(r).asinh()}function Sl(r){return new this(r).atan()}function Tl(r){return new this(r).atanh()}function xl(r,e){r=new this(r),e=new this(e);var n,u=this.precision,t=this.rounding,i=u+4;return!r.s||!e.s?n=new this(NaN):!r.d&&!e.d?(n=Ne(this,i,1).times(e.s>0?.25:.75),n.s=r.s):!e.d||r.isZero()?(n=e.s<0?Ne(this,u,t):new this(0),n.s=r.s):!r.d||e.isZero()?(n=Ne(this,i,1).times(.5),n.s=r.s):e.s<0?(this.precision=i,this.rounding=1,n=this.atan(Pr(r,e,i,1)),e=Ne(this,i,1),this.precision=u,this.rounding=t,n=r.s<0?n.minus(e):n.plus(e)):n=this.atan(Pr(r,e,i,1)),n}function $l(r){return new this(r).cbrt()}function Ol(r){return ar(r=new this(r),r.e+1,2)}function Il(r,e,n){return new this(r).clamp(e,n)}function Pl(r){if(!r||typeof r!="object")throw Error(pn+"Object expected");var e,n,u,t=r.defaults===!0,i=["precision",1,Ve,"rounding",0,8,"toExpNeg",-gt,0,"toExpPos",0,gt,"maxE",0,gt,"minE",-gt,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(n=i[e],t&&(this[n]=Mu[n]),(u=r[n])!==void 0)if(he(u)===u&&u>=i[e+1]&&u<=i[e+2])this[n]=u;else throw Error(Ge+n+": "+u);if(n="crypto",t&&(this[n]=Mu[n]),(u=r[n])!==void 0)if(u===!0||u===!1||u===0||u===1)if(u)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(to);else this[n]=!1;else throw Error(Ge+n+": "+u);return this}function zl(r){return new this(r).cos()}function kl(r){return new this(r).cosh()}function co(r){var e,n,u;function t(i){var h,p,D,g=this;if(!(g instanceof t))return new t(i);if(g.constructor=t,ca(i)){g.s=i.s,hr?!i.d||i.e>t.maxE?(g.e=NaN,g.d=null):i.e<t.minE?(g.e=0,g.d=[0]):(g.e=i.e,g.d=i.d.slice()):(g.e=i.e,g.d=i.d?i.d.slice():i.d);return}if(D=typeof i,D==="number"){if(i===0){g.s=1/i<0?-1:1,g.e=0,g.d=[0];return}if(i<0?(i=-i,g.s=-1):g.s=1,i===~~i&&i<1e7){for(h=0,p=i;p>=10;p/=10)h++;hr?h>t.maxE?(g.e=NaN,g.d=null):h<t.minE?(g.e=0,g.d=[0]):(g.e=h,g.d=[i]):(g.e=h,g.d=[i]);return}else if(i*0!==0){i||(g.s=NaN),g.e=NaN,g.d=null;return}return xu(g,i.toString())}else if(D!=="string")throw Error(Ge+i);return(p=i.charCodeAt(0))===45?(i=i.slice(1),g.s=-1):(p===43&&(i=i.slice(1)),g.s=1),uo.test(i)?xu(g,i):Fl(g,i)}if(t.prototype=H,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=Pl,t.clone=co,t.isDecimal=ca,t.abs=Al,t.acos=Cl,t.acosh=_l,t.add=Nl,t.asin=Bl,t.asinh=Ml,t.atan=Sl,t.atanh=Tl,t.atan2=xl,t.cbrt=$l,t.ceil=Ol,t.clamp=Il,t.cos=zl,t.cosh=kl,t.div=Rl,t.exp=Ll,t.floor=ql,t.hypot=Ul,t.ln=Zl,t.log=Hl,t.log10=Vl,t.log2=Gl,t.max=Yl,t.min=Wl,t.mod=Xl,t.mul=Jl,t.pow=Ql,t.random=jl,t.round=Kl,t.sign=rh,t.sin=eh,t.sinh=th,t.sqrt=nh,t.sub=uh,t.sum=ih,t.tan=ah,t.tanh=oh,t.trunc=sh,r===void 0&&(r={}),r&&r.defaults!==!0)for(u=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<u.length;)r.hasOwnProperty(n=u[e++])||(r[n]=this[n]);return t.config(r),t}function Rl(r,e){return new this(r).div(e)}function Ll(r){return new this(r).exp()}function ql(r){return ar(r=new this(r),r.e+1,3)}function Ul(){var r,e,n=new this(0);for(hr=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return hr=!0,new this(1/0);n=e}return hr=!0,n.sqrt()}function ca(r){return r instanceof Ft||r&&r.toStringTag===no||!1}function Zl(r){return new this(r).ln()}function Hl(r,e){return new this(r).log(e)}function Gl(r){return new this(r).log(2)}function Vl(r){return new this(r).log(10)}function Yl(){return oo(this,arguments,"lt")}function Wl(){return oo(this,arguments,"gt")}function Xl(r,e){return new this(r).mod(e)}function Jl(r,e){return new this(r).mul(e)}function Ql(r,e){return new this(r).pow(e)}function jl(r){var e,n,u,t,i=0,h=new this(1),p=[];if(r===void 0?r=this.precision:ge(r,1,Ve),u=Math.ceil(r/lr),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(u));i<u;)t=e[i],t>=429e7?e[i]=crypto.getRandomValues(new Uint32Array(1))[0]:p[i++]=t%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(u*=4);i<u;)t=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+((e[i+3]&127)<<24),t>=214e7?crypto.randomBytes(4).copy(e,i):(p.push(t%1e7),i+=4);i=u/4}else throw Error(to);else for(;i<u;)p[i++]=Math.random()*1e7|0;for(u=p[--i],r%=lr,u&&r&&(t=re(10,lr-r),p[i]=(u/t|0)*t);p[i]===0;i--)p.pop();if(i<0)n=0,p=[0];else{for(n=-1;p[0]===0;n-=lr)p.shift();for(u=1,t=p[0];t>=10;t/=10)u++;u<lr&&(n-=lr-u)}return h.e=n,h.d=p,h}function Kl(r){return ar(r=new this(r),r.e+1,this.rounding)}function rh(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function eh(r){return new this(r).sin()}function th(r){return new this(r).sinh()}function nh(r){return new this(r).sqrt()}function uh(r,e){return new this(r).sub(e)}function ih(){var r=0,e=arguments,n=new this(e[r]);for(hr=!1;n.s&&++r<e.length;)n=n.plus(e[r]);return hr=!0,ar(n,this.precision,this.rounding)}function ah(r){return new this(r).tan()}function oh(r){return new this(r).tanh()}function sh(r){return ar(r=new this(r),r.e+1,1)}H[Symbol.for("nodejs.util.inspect.custom")]=H.toString;H[Symbol.toStringTag]="Decimal";var Ft=H.constructor=co(Mu);on=new Ft(on);sn=new Ft(sn);var fh="BigNumber",ch=["?on","config"],lh=yr(fh,ch,r=>{var{on:e,config:n}=r,u=Ft.clone({precision:n.precision,modulo:Ft.EUCLID});return u.prototype=Object.create(u.prototype),u.prototype.type="BigNumber",u.prototype.isBigNumber=!0,u.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},u.fromJSON=function(t){return new u(t.value)},e&&e("config",function(t,i){t.precision!==i.precision&&u.config({precision:t.precision})}),u},{isClass:!0}),lo={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(n){var u=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},t=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},i=function(o){var l=Math.PI/4;if(-l>o||o>l)return Math.cos(o)-1;var v=o*o;return v*(v*(v*(v*(v*(v*(v*(v/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},h=function(o,l){var v=Math.abs(o),y=Math.abs(l);return v<3e3&&y<3e3?Math.sqrt(v*v+y*y):(v<y?(v=y,y=o/l):y=l/o,v*Math.sqrt(1+y*y))},p=function(){throw SyntaxError("Invalid Param")};function D(o,l){var v=Math.abs(o),y=Math.abs(l);return o===0?Math.log(y):l===0?Math.log(v):v<3e3&&y<3e3?Math.log(o*o+l*l)*.5:(o=o/2,l=l/2,.5*Math.log(o*o+l*l)+Math.LN2)}var g=function(o,l){var v={re:0,im:0};if(o==null)v.re=v.im=0;else if(l!==void 0)v.re=o,v.im=l;else switch(typeof o){case"object":if("im"in o&&"re"in o)v.re=o.re,v.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return s.INFINITY;v.re=o.abs*Math.cos(o.arg),v.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return s.INFINITY;v.re=o.r*Math.cos(o.phi),v.im=o.r*Math.sin(o.phi)}else o.length===2?(v.re=o[0],v.im=o[1]):p();break;case"string":v.im=v.re=0;var y=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),f=1,F=0;y===null&&p();for(var m=0;m<y.length;m++){var A=y[m];A===" "||A==="	"||A===`
`||(A==="+"?f++:A==="-"?F++:A==="i"||A==="I"?(f+F===0&&p(),y[m+1]!==" "&&!isNaN(y[m+1])?(v.im+=parseFloat((F%2?"-":"")+y[m+1]),m++):v.im+=parseFloat((F%2?"-":"")+"1"),f=F=0):((f+F===0||isNaN(A))&&p(),y[m+1]==="i"||y[m+1]==="I"?(v.im+=parseFloat((F%2?"-":"")+A),m++):v.re+=parseFloat((F%2?"-":"")+A),f=F=0))}f+F>0&&p();break;case"number":v.im=0,v.re=o;break;default:p()}return isNaN(v.re)||isNaN(v.im),v};function s(o,l){if(!(this instanceof s))return new s(o,l);var v=g(o,l);this.re=v.re,this.im=v.im}s.prototype={re:0,im:0,sign:function(){var o=this.abs();return new s(this.re/o,this.im/o)},add:function(o,l){var v=new s(o,l);return this.isInfinite()&&v.isInfinite()?s.NAN:this.isInfinite()||v.isInfinite()?s.INFINITY:new s(this.re+v.re,this.im+v.im)},sub:function(o,l){var v=new s(o,l);return this.isInfinite()&&v.isInfinite()?s.NAN:this.isInfinite()||v.isInfinite()?s.INFINITY:new s(this.re-v.re,this.im-v.im)},mul:function(o,l){var v=new s(o,l);return this.isInfinite()&&v.isZero()||this.isZero()&&v.isInfinite()?s.NAN:this.isInfinite()||v.isInfinite()?s.INFINITY:v.im===0&&this.im===0?new s(this.re*v.re,0):new s(this.re*v.re-this.im*v.im,this.re*v.im+this.im*v.re)},div:function(o,l){var v=new s(o,l);if(this.isZero()&&v.isZero()||this.isInfinite()&&v.isInfinite())return s.NAN;if(this.isInfinite()||v.isZero())return s.INFINITY;if(this.isZero()||v.isInfinite())return s.ZERO;o=this.re,l=this.im;var y=v.re,f=v.im,F,m;return f===0?new s(o/y,l/y):Math.abs(y)<Math.abs(f)?(m=y/f,F=y*m+f,new s((o*m+l)/F,(l*m-o)/F)):(m=f/y,F=f*m+y,new s((o+l*m)/F,(l-o*m)/F))},pow:function(o,l){var v=new s(o,l);if(o=this.re,l=this.im,v.isZero())return s.ONE;if(v.im===0){if(l===0&&o>0)return new s(Math.pow(o,v.re),0);if(o===0)switch((v.re%4+4)%4){case 0:return new s(Math.pow(l,v.re),0);case 1:return new s(0,Math.pow(l,v.re));case 2:return new s(-Math.pow(l,v.re),0);case 3:return new s(0,-Math.pow(l,v.re))}}if(o===0&&l===0&&v.re>0&&v.im>=0)return s.ZERO;var y=Math.atan2(l,o),f=D(o,l);return o=Math.exp(v.re*f-v.im*y),l=v.im*f+v.re*y,new s(o*Math.cos(l),o*Math.sin(l))},sqrt:function(){var o=this.re,l=this.im,v=this.abs(),y,f;if(o>=0){if(l===0)return new s(Math.sqrt(o),0);y=.5*Math.sqrt(2*(v+o))}else y=Math.abs(l)/Math.sqrt(2*(v-o));return o<=0?f=.5*Math.sqrt(2*(v-o)):f=Math.abs(l)/Math.sqrt(2*(v+o)),new s(y,l<0?-f:f)},exp:function(){var o=Math.exp(this.re);return this.im,new s(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,l=this.im;return new s(Math.expm1(o)*Math.cos(l)+i(l),Math.exp(o)*Math.sin(l))},log:function(){var o=this.re,l=this.im;return new s(D(o,l),Math.atan2(l,o))},abs:function(){return h(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,l=this.im;return new s(Math.sin(o)*u(l),Math.cos(o)*t(l))},cos:function(){var o=this.re,l=this.im;return new s(Math.cos(o)*u(l),-Math.sin(o)*t(l))},tan:function(){var o=2*this.re,l=2*this.im,v=Math.cos(o)+u(l);return new s(Math.sin(o)/v,t(l)/v)},cot:function(){var o=2*this.re,l=2*this.im,v=Math.cos(o)-u(l);return new s(-Math.sin(o)/v,t(l)/v)},sec:function(){var o=this.re,l=this.im,v=.5*u(2*l)+.5*Math.cos(2*o);return new s(Math.cos(o)*u(l)/v,Math.sin(o)*t(l)/v)},csc:function(){var o=this.re,l=this.im,v=.5*u(2*l)-.5*Math.cos(2*o);return new s(Math.sin(o)*u(l)/v,-Math.cos(o)*t(l)/v)},asin:function(){var o=this.re,l=this.im,v=new s(l*l-o*o+1,-2*o*l).sqrt(),y=new s(v.re-l,v.im+o).log();return new s(y.im,-y.re)},acos:function(){var o=this.re,l=this.im,v=new s(l*l-o*o+1,-2*o*l).sqrt(),y=new s(v.re-l,v.im+o).log();return new s(Math.PI/2-y.im,y.re)},atan:function(){var o=this.re,l=this.im;if(o===0){if(l===1)return new s(0,1/0);if(l===-1)return new s(0,-1/0)}var v=o*o+(1-l)*(1-l),y=new s((1-l*l-o*o)/v,-2*o/v).log();return new s(-.5*y.im,.5*y.re)},acot:function(){var o=this.re,l=this.im;if(l===0)return new s(Math.atan2(1,o),0);var v=o*o+l*l;return v!==0?new s(o/v,-l/v).atan():new s(o!==0?o/0:0,l!==0?-l/0:0).atan()},asec:function(){var o=this.re,l=this.im;if(o===0&&l===0)return new s(0,1/0);var v=o*o+l*l;return v!==0?new s(o/v,-l/v).acos():new s(o!==0?o/0:0,l!==0?-l/0:0).acos()},acsc:function(){var o=this.re,l=this.im;if(o===0&&l===0)return new s(Math.PI/2,1/0);var v=o*o+l*l;return v!==0?new s(o/v,-l/v).asin():new s(o!==0?o/0:0,l!==0?-l/0:0).asin()},sinh:function(){var o=this.re,l=this.im;return new s(t(o)*Math.cos(l),u(o)*Math.sin(l))},cosh:function(){var o=this.re,l=this.im;return new s(u(o)*Math.cos(l),t(o)*Math.sin(l))},tanh:function(){var o=2*this.re,l=2*this.im,v=u(o)+Math.cos(l);return new s(t(o)/v,Math.sin(l)/v)},coth:function(){var o=2*this.re,l=2*this.im,v=u(o)-Math.cos(l);return new s(t(o)/v,-Math.sin(l)/v)},csch:function(){var o=this.re,l=this.im,v=Math.cos(2*l)-u(2*o);return new s(-2*t(o)*Math.cos(l)/v,2*u(o)*Math.sin(l)/v)},sech:function(){var o=this.re,l=this.im,v=Math.cos(2*l)+u(2*o);return new s(2*u(o)*Math.cos(l)/v,-2*t(o)*Math.sin(l)/v)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var l=this.asin();return this.re=-this.im,this.im=o,o=l.re,l.re=-l.im,l.im=o,l},acosh:function(){var o=this.acos();if(o.im<=0){var l=o.re;o.re=-o.im,o.im=l}else{var l=o.im;o.im=-o.re,o.re=l}return o},atanh:function(){var o=this.re,l=this.im,v=o>1&&l===0,y=1-o,f=1+o,F=y*y+l*l,m=F!==0?new s((f*y-l*l)/F,(l*y+f*l)/F):new s(o!==-1?o/0:0,l!==0?l/0:0),A=m.re;return m.re=D(m.re,m.im)/2,m.im=Math.atan2(m.im,A)/2,v&&(m.im=-m.im),m},acoth:function(){var o=this.re,l=this.im;if(o===0&&l===0)return new s(0,Math.PI/2);var v=o*o+l*l;return v!==0?new s(o/v,-l/v).atanh():new s(o!==0?o/0:0,l!==0?-l/0:0).atanh()},acsch:function(){var o=this.re,l=this.im;if(l===0)return new s(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var v=o*o+l*l;return v!==0?new s(o/v,-l/v).asinh():new s(o!==0?o/0:0,l!==0?-l/0:0).asinh()},asech:function(){var o=this.re,l=this.im;if(this.isZero())return s.INFINITY;var v=o*o+l*l;return v!==0?new s(o/v,-l/v).acosh():new s(o!==0?o/0:0,l!==0?-l/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var o=this.re,l=this.im,v=o*o+l*l;return new s(o/v,-l/v)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new s(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new s(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new s(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,l){var v=new s(o,l);return Math.abs(v.re-this.re)<=s.EPSILON&&Math.abs(v.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var o=this.re,l=this.im,v="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<s.EPSILON&&(o=0),Math.abs(l)<s.EPSILON&&(l=0),l===0?v+o:(o!==0?(v+=o,v+=" ",l<0?(l=-l,v+="-"):v+="+",v+=" "):l<0&&(l=-l,v+="-"),l!==1&&(v+=l),v+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,r.exports=s})()})(lo);var hh=lo.exports;const se=Iu(hh);var vh="Complex",ph=[],dh=yr(vh,ph,()=>(Object.defineProperty(se,"name",{value:"Complex"}),se.prototype.constructor=se,se.prototype.type="Complex",se.prototype.isComplex=!0,se.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},se.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},se.prototype.format=function(r){var e="",n=this.im,u=this.re,t=Cu(this.re,r),i=Cu(this.im,r),h=kr(r)?r:r?r.precision:null;if(h!==null){var p=Math.pow(10,-h);Math.abs(u/n)<p&&(u=0),Math.abs(n/u)<p&&(n=0)}return n===0?e=t:u===0?n===1?e="i":n===-1?e="-i":e=i+"i":n<0?n===-1?e=t+" - i":e=t+" - "+i.substring(1)+"i":n===1?e=t+" + i":e=t+" + "+i+"i",e},se.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return se(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],u=arguments[1];if(kr(n)){if(Ra(u)&&u.hasBase("ANGLE")&&(u=u.toNumber("rad")),kr(u))return new se({r:n,phi:u});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},se.prototype.valueOf=se.prototype.toString,se.fromJSON=function(r){return new se(r)},se.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},se),{isClass:!0}),ho={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(n){var u=2e3,t={s:1,n:0,d:1};function i(m,A){if(isNaN(m=parseInt(m,10)))throw f();return m*A}function h(m,A){if(A===0)throw y();var b=Object.create(v.prototype);b.s=m<0?-1:1,m=m<0?-m:m;var B=l(m,A);return b.n=m/B,b.d=A/B,b}function p(m){for(var A={},b=m,B=2,C=4;C<=b;){for(;b%B===0;)b/=B,A[B]=(A[B]||0)+1;C+=1+2*B++}return b!==m?b>1&&(A[b]=(A[b]||0)+1):A[m]=(A[m]||0)+1,A}var D=function(m,A){var b=0,B=1,C=1,w=0,T=0,I=0,P=1,U=1,k=0,R=1,ir=1,nr=1,er=1e7,Q;if(m!=null)if(A!==void 0){if(b=m,B=A,C=b*B,b%1!==0||B%1!==0)throw F()}else switch(typeof m){case"object":{if("d"in m&&"n"in m)b=m.n,B=m.d,"s"in m&&(b*=m.s);else if(0 in m)b=m[0],1 in m&&(B=m[1]);else throw f();C=b*B;break}case"number":{if(m<0&&(C=m,m=-m),m%1===0)b=m;else if(m>0){for(m>=1&&(U=Math.pow(10,Math.floor(1+Math.log(m)/Math.LN10)),m/=U);R<=er&&nr<=er;)if(Q=(k+ir)/(R+nr),m===Q){R+nr<=er?(b=k+ir,B=R+nr):nr>R?(b=ir,B=nr):(b=k,B=R);break}else m>Q?(k+=ir,R+=nr):(ir+=k,nr+=R),R>er?(b=ir,B=nr):(b=k,B=R);b*=U}else(isNaN(m)||isNaN(A))&&(B=b=NaN);break}case"string":{if(R=m.match(/\d+|./g),R===null)throw f();if(R[k]==="-"?(C=-1,k++):R[k]==="+"&&k++,R.length===k+1?T=i(R[k++],C):R[k+1]==="."||R[k]==="."?(R[k]!=="."&&(w=i(R[k++],C)),k++,(k+1===R.length||R[k+1]==="("&&R[k+3]===")"||R[k+1]==="'"&&R[k+3]==="'")&&(T=i(R[k],C),P=Math.pow(10,R[k].length),k++),(R[k]==="("&&R[k+2]===")"||R[k]==="'"&&R[k+2]==="'")&&(I=i(R[k+1],C),U=Math.pow(10,R[k+1].length)-1,k+=3)):R[k+1]==="/"||R[k+1]===":"?(T=i(R[k],C),P=i(R[k+2],1),k+=3):R[k+3]==="/"&&R[k+1]===" "&&(w=i(R[k],C),T=i(R[k+2],C),P=i(R[k+4],1),k+=5),R.length<=k){B=P*U,C=b=I+B*w+U*T;break}}default:throw f()}if(B===0)throw y();t.s=C<0?-1:1,t.n=Math.abs(b),t.d=Math.abs(B)};function g(m,A,b){for(var B=1;A>0;m=m*m%b,A>>=1)A&1&&(B=B*m%b);return B}function s(m,A){for(;A%2===0;A/=2);for(;A%5===0;A/=5);if(A===1)return 0;for(var b=10%A,B=1;b!==1;B++)if(b=b*10%A,B>u)return 0;return B}function o(m,A,b){for(var B=1,C=g(10,b,A),w=0;w<300;w++){if(B===C)return w;B=B*10%A,C=C*10%A}return 0}function l(m,A){if(!m)return A;if(!A)return m;for(;;){if(m%=A,!m)return A;if(A%=m,!A)return m}}function v(m,A){if(D(m,A),this instanceof v)m=l(t.d,t.n),this.s=t.s,this.n=t.n/m,this.d=t.d/m;else return h(t.s*t.n,t.d)}var y=function(){return new Error("Division by Zero")},f=function(){return new Error("Invalid argument")},F=function(){return new Error("Parameters must be integer")};v.prototype={s:1,n:0,d:1,abs:function(){return h(this.n,this.d)},neg:function(){return h(-this.s*this.n,this.d)},add:function(m,A){return D(m,A),h(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(m,A){return D(m,A),h(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(m,A){return D(m,A),h(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(m,A){return D(m,A),h(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return h(this.s*this.n,this.d)},mod:function(m,A){if(isNaN(this.n)||isNaN(this.d))return new v(NaN);if(m===void 0)return h(this.s*this.n%this.d,1);if(D(m,A),t.n===0&&this.d===0)throw y();return h(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(m,A){return D(m,A),h(l(t.n,this.n)*l(t.d,this.d),t.d*this.d)},lcm:function(m,A){return D(m,A),t.n===0&&this.n===0?h(0,1):h(t.n*this.n,l(t.n,this.n)*l(t.d,this.d))},ceil:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):h(Math.ceil(m*this.s*this.n/this.d),m)},floor:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):h(Math.floor(m*this.s*this.n/this.d),m)},round:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):h(Math.round(m*this.s*this.n/this.d),m)},inverse:function(){return h(this.s*this.d,this.n)},pow:function(m,A){if(D(m,A),t.d===1)return t.s<0?h(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):h(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var b=p(this.n),B=p(this.d),C=1,w=1;for(var T in b)if(T!=="1"){if(T==="0"){C=0;break}if(b[T]*=t.n,b[T]%t.d===0)b[T]/=t.d;else return null;C*=Math.pow(T,b[T])}for(var T in B)if(T!=="1"){if(B[T]*=t.n,B[T]%t.d===0)B[T]/=t.d;else return null;w*=Math.pow(T,B[T])}return t.s<0?h(w,C):h(C,w)},equals:function(m,A){return D(m,A),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(m,A){D(m,A);var b=this.s*this.n*t.d-t.s*t.n*this.d;return(0<b)-(b<0)},simplify:function(m){if(isNaN(this.n)||isNaN(this.d))return this;m=m||.001;for(var A=this.abs(),b=A.toContinued(),B=1;B<b.length;B++){for(var C=h(b[B-1],1),w=B-2;w>=0;w--)C=C.inverse().add(b[w]);if(Math.abs(C.sub(A).valueOf())<m)return C.mul(this.s)}return this},divisible:function(m,A){return D(m,A),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(m){var A,b="",B=this.n,C=this.d;return this.s<0&&(b+="-"),C===1?b+=B:(m&&(A=Math.floor(B/C))>0&&(b+=A,b+=" ",B%=C),b+=B,b+="/",b+=C),b},toLatex:function(m){var A,b="",B=this.n,C=this.d;return this.s<0&&(b+="-"),C===1?b+=B:(m&&(A=Math.floor(B/C))>0&&(b+=A,B%=C),b+="\\frac{",b+=B,b+="}{",b+=C,b+="}"),b},toContinued:function(){var m,A=this.n,b=this.d,B=[];if(isNaN(A)||isNaN(b))return B;do B.push(Math.floor(A/b)),m=A%b,A=b,b=m;while(A!==1);return B},toString:function(m){var A=this.n,b=this.d;if(isNaN(A)||isNaN(b))return"NaN";m=m||15;var B=s(A,b),C=o(A,b,B),w=this.s<0?"-":"";if(w+=A/b|0,A%=b,A*=10,A&&(w+="."),B){for(var T=C;T--;)w+=A/b|0,A%=b,A*=10;w+="(";for(var T=B;T--;)w+=A/b|0,A%=b,A*=10;w+=")"}else for(var T=m;A&&T--;)w+=A/b|0,A%=b,A*=10;return w}},Object.defineProperty(v,"__esModule",{value:!0}),v.default=v,v.Fraction=v,r.exports=v})()})(ho);var Dh=ho.exports;const Oe=Iu(Dh);var gh="Fraction",mh=[],wh=yr(gh,mh,()=>(Object.defineProperty(Oe,"name",{value:"Fraction"}),Oe.prototype.constructor=Oe,Oe.prototype.type="Fraction",Oe.prototype.isFraction=!0,Oe.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Oe.fromJSON=function(r){return new Oe(r)},Oe),{isClass:!0}),bh="Matrix",yh=[],Fh=yr(bh,yh,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,n,u){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,n,u){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function vo(r){return Object.keys(r.signatures||{}).reduce(function(e,n){var u=(n.match(/,/g)||[]).length+1;return Math.max(e,u)},-1)}var Eh="DenseMatrix",Ah=["Matrix"],Ch=yr(Eh,Ah,r=>{var{Matrix:e}=r;function n(s,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!Se(o))throw new Error("Invalid datatype: "+o);if(ee(s))s.type==="DenseMatrix"?(this._data=Xr(s._data),this._size=Xr(s._size),this._datatype=o||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=o||s._datatype);else if(s&&Zr(s.data)&&Zr(s.size))this._data=s.data,this._size=s.size,aa(this._data,this._size),this._datatype=o||s.datatype;else if(Zr(s))this._data=g(s),this._size=be(this._data),aa(this._data,this._size),this._datatype=o;else{if(s)throw new TypeError("Unsupported type of data ("+mt(s)+")");this._data=[],this._size=[0],this._datatype=o}}n.prototype=new e,n.prototype.createDenseMatrix=function(s,o){return new n(s,o)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return an(this._data,mt)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(s,o){return new n(s,o)},n.prototype.subset=function(s,o,l){switch(arguments.length){case 1:return u(this,s);case 2:case 3:return i(this,s,o,l);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(s){if(!Zr(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new qr(s.length,this._size.length);for(var o=0;o<s.length;o++)Hr(s[o],this._size[o]);for(var l=this._data,v=0,y=s.length;v<y;v++){var f=s[v];Hr(f,l.length),l=l[f]}return l},n.prototype.set=function(s,o,l){if(!Zr(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new qr(s.length,this._size.length,"<");var v,y,f,F=s.map(function(A){return A+1});D(this,F,l);var m=this._data;for(v=0,y=s.length-1;v<y;v++)f=s[v],Hr(f,m.length),m=m[f];return f=s[s.length-1],Hr(f,m.length),m[f]=o,this};function u(s,o){if(!Pu(o))throw new TypeError("Invalid index");var l=o.isScalar();if(l)return s.get(o.min());var v=o.size();if(v.length!==s._size.length)throw new qr(v.length,s._size.length);for(var y=o.min(),f=o.max(),F=0,m=s._size.length;F<m;F++)Hr(y[F],s._size[F]),Hr(f[F],s._size[F]);return new n(t(s._data,o,v.length,0),s._datatype)}function t(s,o,l,v){var y=v===l-1,f=o.dimension(v);return y?f.map(function(F){return Hr(F,s.length),s[F]}).valueOf():f.map(function(F){Hr(F,s.length);var m=s[F];return t(m,o,l,v+1)}).valueOf()}function i(s,o,l,v){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var y=o.size(),f=o.isScalar(),F;if(ee(l)?(F=l.size(),l=l.valueOf()):F=be(l),f){if(F.length!==0)throw new TypeError("Scalar expected");s.set(o.min(),l,v)}else{if(!bt(F,y))try{F.length===0?l=oa([l],y):l=oa(l,y),F=be(l)}catch(w){}if(y.length<s._size.length)throw new qr(y.length,s._size.length,"<");if(F.length<y.length){for(var m=0,A=0;y[m]===1&&F[m]===1;)m++;for(;y[m]===1;)A++,m++;l=Ya(l,y.length,A,F)}if(!bt(y,F))throw new qr(y,F,">");var b=o.max().map(function(w){return w+1});D(s,b,v);var B=y.length,C=0;h(s._data,o,l,B,C)}return s}function h(s,o,l,v,y){var f=y===v-1,F=o.dimension(y);f?F.forEach(function(m,A){Hr(m),s[m]=l[A[0]]}):F.forEach(function(m,A){Hr(m),h(s[m],o,l[A[0]],v,y+1)})}n.prototype.resize=function(s,o,l){if(!tn(s))throw new TypeError("Array or Matrix expected");var v=s.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),y=l?this.clone():this;return p(y,v,o)};function p(s,o,l){if(o.length===0){for(var v=s._data;Zr(v);)v=v[0];return v}return s._size=o.slice(0),s._data=_u(s._data,s._size,l),s}n.prototype.reshape=function(s,o){var l=o?this.clone():this;l._data=Ga(l._data,s);var v=l._size.reduce((y,f)=>y*f);return l._size=ku(s,v),l};function D(s,o,l){for(var v=s._size.slice(0),y=!1;v.length<o.length;)v.push(0),y=!0;for(var f=0,F=o.length;f<F;f++)o[f]>v[f]&&(v[f]=o[f],y=!0);y&&p(s,v,l)}n.prototype.clone=function(){var s=new n({data:Xr(this._data),size:Xr(this._size),datatype:this._datatype});return s},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(s){var o=this,l=vo(s),v=function F(m,A){return Zr(m)?m.map(function(b,B){return F(b,A.concat(B))}):l===1?s(m):l===2?s(m,A):s(m,A,o)},y=v(this._data,[]),f=this._datatype!==void 0?an(y,mt):void 0;return new n(y,f)},n.prototype.forEach=function(s){var o=this,l=function v(y,f){Zr(y)?y.forEach(function(F,m){v(F,f.concat(m))}):s(y,f,o)};l(this._data,[])},n.prototype[Symbol.iterator]=function*(){var s=function*o(l,v){if(Zr(l))for(var y=0;y<l.length;y++)yield*gu(o(l[y],v.concat(y)));else yield{value:l,index:v}};yield*gu(s(this._data,[]))},n.prototype.rows=function(){var s=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var l=this._data;for(var v of l)s.push(new n([v],this._datatype));return s},n.prototype.columns=function(){var s=this,o=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,y=function(m){var A=v.map(b=>[b[m]]);o.push(new n(A,s._datatype))},f=0;f<l[1];f++)y(f);return o},n.prototype.toArray=function(){return Xr(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(s){return Qr(this._data,s)},n.prototype.toString=function(){return Qr(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(s){if(s){if(jr(s)&&(s=s.toNumber()),!kr(s)||!Lr(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var o=s>0?s:0,l=s<0?-s:0,v=this._size[0],y=this._size[1],f=Math.min(v-l,y-o),F=[],m=0;m<f;m++)F[m]=this._data[m+l][m+o];return new n({data:F,size:[f],datatype:this._datatype})},n.diagonal=function(s,o,l,v){if(!Zr(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(T){if(jr(T)&&(T=T.toNumber()),!kr(T)||!Lr(T)||T<1)throw new Error("Size values must be positive integers");return T}),l){if(jr(l)&&(l=l.toNumber()),!kr(l)||!Lr(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var y=l>0?l:0,f=l<0?-l:0,F=s[0],m=s[1],A=Math.min(F-f,m-y),b;if(Zr(o)){if(o.length!==A)throw new Error("Invalid value array length");b=function(I){return o[I]}}else if(ee(o)){var B=o.size();if(B.length!==1||B[0]!==A)throw new Error("Invalid matrix length");b=function(I){return o.get([I])}}else b=function(){return o};v||(v=jr(b(0))?b(0).mul(0):0);var C=[];if(s.length>0){C=_u(C,s,v);for(var w=0;w<A;w++)C[w+f][w+y]=b(w)}return new n({data:C,size:[F,m]})},n.fromJSON=function(s){return new n(s)},n.prototype.swapRows=function(s,o){if(!kr(s)||!Lr(s)||!kr(o)||!Lr(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Hr(s,this._size[0]),Hr(o,this._size[0]),n._swapRows(s,o,this._data),this},n._swapRows=function(s,o,l){var v=l[s];l[s]=l[o],l[o]=v};function g(s){return ee(s)?g(s.valueOf()):Zr(s)?s.map(g):s}return n},{isClass:!0});function Ye(r,e,n){return r&&typeof r.map=="function"?r.map(function(u){return Ye(u,e)}):e(r)}var po="number",gn="number, number";function Do(r){return Math.abs(r)}Do.signature=po;function go(r,e){return r+e}go.signature=gn;function mo(r,e){return r-e}mo.signature=gn;function wo(r,e){return r*e}wo.signature=gn;function bo(r){return-r}bo.signature=po;function yo(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}yo.signature=gn;function $u(r,e){if(e<r)return 1;if(e===r)return e;var n=e+r>>1;return $u(r,n)*$u(n+1,e)}function Fo(r,e){if(!Lr(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!Lr(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>r)throw new TypeError("k must be less than or equal to n");for(var n=r-e,u=1,t=e<n?n+1:e+1,i=2,h=e<n?e:n,p=t;p<=r;++p)for(u*=p;i<=h&&u%i===0;)u/=i,++i;return i<=h&&(u/=$u(i,h)),u}Fo.signature="number, number";var _h="number";function Eo(r){return r===0}Eo.signature=_h;var la="isZero",Nh=["typed"],Bh=yr(la,Nh,r=>{var{typed:e}=r;return e(la,{number:Eo,BigNumber:function(u){return u.isZero()},Complex:function(u){return u.re===0&&u.im===0},Fraction:function(u){return u.d===1&&u.n===0},Unit:e.referToSelf(n=>u=>e.find(n,u.valueType())(u.value)),"Array | Matrix":e.referToSelf(n=>u=>Ye(u,n))})});function Mh(r,e,n){if(n==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var u=r.minus(e).abs();if(u.isZero())return!0;var t=r.constructor.max(r.abs(),e.abs());return u.lte(t.times(n))}return!1}function Sh(r,e,n){return un(r.re,e.re,n)&&un(r.im,e.im,n)}var Th=yr("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(n=>(u,t)=>{if(!u.equalBase(t))throw new Error("Cannot compare units with different base");return e.find(n,[u.valueType(),t.valueType()])(u.value,t.value)})}}),cn="equalScalar",xh=["typed","config"],$h=yr(cn,xh,r=>{var{typed:e,config:n}=r,u=Th({typed:e});return e(cn,{"boolean, boolean":function(i,h){return i===h},"number, number":function(i,h){return un(i,h,n.epsilon)},"BigNumber, BigNumber":function(i,h){return i.eq(h)||Mh(i,h,n.epsilon)},"Fraction, Fraction":function(i,h){return i.equals(h)},"Complex, Complex":function(i,h){return Sh(i,h,n.epsilon)}},u)});yr(cn,["typed","config"],r=>{var{typed:e,config:n}=r;return e(cn,{"number, number":function(t,i){return un(t,i,n.epsilon)}})});var Oh="SparseMatrix",Ih=["typed","equalScalar","Matrix"],Ph=yr(Oh,Ih,r=>{var{typed:e,equalScalar:n,Matrix:u}=r;function t(f,F){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(F&&!Se(F))throw new Error("Invalid datatype: "+F);if(ee(f))i(this,f,F);else if(f&&Zr(f.index)&&Zr(f.ptr)&&Zr(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=F||f.datatype;else if(Zr(f))h(this,f,F);else{if(f)throw new TypeError("Unsupported type of data ("+mt(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=F}}function i(f,F,m){F.type==="SparseMatrix"?(f._values=F._values?Xr(F._values):void 0,f._index=Xr(F._index),f._ptr=Xr(F._ptr),f._size=Xr(F._size),f._datatype=m||F._datatype):h(f,F.valueOf(),m||F._datatype)}function h(f,F,m){f._values=[],f._index=[],f._ptr=[],f._datatype=m;var A=F.length,b=0,B=n,C=0;if(Se(m)&&(B=e.find(n,[m,m])||n,C=e.convert(0,m)),A>0){var w=0;do{f._ptr.push(f._index.length);for(var T=0;T<A;T++){var I=F[T];if(Zr(I)){if(w===0&&b<I.length&&(b=I.length),w<I.length){var P=I[w];B(P,C)||(f._values.push(P),f._index.push(T))}}else w===0&&b<1&&(b=1),B(I,C)||(f._values.push(I),f._index.push(T))}w++}while(w<b)}f._ptr.push(f._index.length),f._size=[A,b]}t.prototype=new u,t.prototype.createSparseMatrix=function(f,F){return new t(f,F)},Object.defineProperty(t,"name",{value:"SparseMatrix"}),t.prototype.constructor=t,t.prototype.type="SparseMatrix",t.prototype.isSparseMatrix=!0,t.prototype.getDataType=function(){return an(this._values,mt)},t.prototype.storage=function(){return"sparse"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(f,F){return new t(f,F)},t.prototype.density=function(){var f=this._size[0],F=this._size[1];return f!==0&&F!==0?this._index.length/(f*F):0},t.prototype.subset=function(f,F,m){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return p(this,f);case 2:case 3:return D(this,f,F,m);default:throw new SyntaxError("Wrong number of arguments")}};function p(f,F){if(!Pu(F))throw new TypeError("Invalid index");var m=F.isScalar();if(m)return f.get(F.min());var A=F.size();if(A.length!==f._size.length)throw new qr(A.length,f._size.length);var b,B,C,w,T=F.min(),I=F.max();for(b=0,B=f._size.length;b<B;b++)Hr(T[b],f._size[b]),Hr(I[b],f._size[b]);var P=f._values,U=f._index,k=f._ptr,R=F.dimension(0),ir=F.dimension(1),nr=[],er=[];R.forEach(function(sr,vr){er[sr]=vr[0],nr[sr]=!0});var Q=P?[]:void 0,fr=[],or=[];return ir.forEach(function(sr){for(or.push(fr.length),C=k[sr],w=k[sr+1];C<w;C++)b=U[C],nr[b]===!0&&(fr.push(er[b]),Q&&Q.push(P[C]))}),or.push(fr.length),new t({values:Q,index:fr,ptr:or,size:A,datatype:f._datatype})}function D(f,F,m,A){if(!F||F.isIndex!==!0)throw new TypeError("Invalid index");var b=F.size(),B=F.isScalar(),C;if(ee(m)?(C=m.size(),m=m.toArray()):C=be(m),B){if(C.length!==0)throw new TypeError("Scalar expected");f.set(F.min(),m,A)}else{if(b.length!==1&&b.length!==2)throw new qr(b.length,f._size.length,"<");if(C.length<b.length){for(var w=0,T=0;b[w]===1&&C[w]===1;)w++;for(;b[w]===1;)T++,w++;m=Ya(m,b.length,T,C)}if(!bt(b,C))throw new qr(b,C,">");if(b.length===1){var I=F.dimension(0);I.forEach(function(k,R){Hr(k),f.set([k,0],m[R[0]],A)})}else{var P=F.dimension(0),U=F.dimension(1);P.forEach(function(k,R){Hr(k),U.forEach(function(ir,nr){Hr(ir),f.set([k,ir],m[R[0]][nr[0]],A)})})}}return f}t.prototype.get=function(f){if(!Zr(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new qr(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var F=f[0],m=f[1];Hr(F,this._size[0]),Hr(m,this._size[1]);var A=g(F,this._ptr[m],this._ptr[m+1],this._index);return A<this._ptr[m+1]&&this._index[A]===F?this._values[A]:0},t.prototype.set=function(f,F,m){if(!Zr(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new qr(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=f[0],b=f[1],B=this._size[0],C=this._size[1],w=n,T=0;Se(this._datatype)&&(w=e.find(n,[this._datatype,this._datatype])||n,T=e.convert(0,this._datatype)),(A>B-1||b>C-1)&&(l(this,Math.max(A+1,B),Math.max(b+1,C),m),B=this._size[0],C=this._size[1]),Hr(A,B),Hr(b,C);var I=g(A,this._ptr[b],this._ptr[b+1],this._index);return I<this._ptr[b+1]&&this._index[I]===A?w(F,T)?s(I,b,this._values,this._index,this._ptr):this._values[I]=F:w(F,T)||o(I,A,b,F,this._values,this._index,this._ptr),this};function g(f,F,m,A){if(m-F===0)return m;for(var b=F;b<m;b++)if(A[b]===f)return b;return F}function s(f,F,m,A,b){m.splice(f,1),A.splice(f,1);for(var B=F+1;B<b.length;B++)b[B]--}function o(f,F,m,A,b,B,C){b.splice(f,0,A),B.splice(f,0,F);for(var w=m+1;w<C.length;w++)C[w]++}t.prototype.resize=function(f,F,m){if(!tn(f))throw new TypeError("Array or Matrix expected");var A=f.valueOf().map(B=>Array.isArray(B)&&B.length===1?B[0]:B);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(B){if(!kr(B)||!Lr(B)||B<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Qr(A)+")")});var b=m?this.clone():this;return l(b,A[0],A[1],F)};function l(f,F,m,A){var b=A||0,B=n,C=0;Se(f._datatype)&&(B=e.find(n,[f._datatype,f._datatype])||n,C=e.convert(0,f._datatype),b=e.convert(b,f._datatype));var w=!B(b,C),T=f._size[0],I=f._size[1],P,U,k;if(m>I){for(U=I;U<m;U++)if(f._ptr[U]=f._values.length,w)for(P=0;P<T;P++)f._values.push(b),f._index.push(P);f._ptr[m]=f._values.length}else m<I&&(f._ptr.splice(m+1,I-m),f._values.splice(f._ptr[m],f._values.length),f._index.splice(f._ptr[m],f._index.length));if(I=m,F>T){if(w){var R=0;for(U=0;U<I;U++){f._ptr[U]=f._ptr[U]+R,k=f._ptr[U+1]+R;var ir=0;for(P=T;P<F;P++,ir++)f._values.splice(k+ir,0,b),f._index.splice(k+ir,0,P),R++}f._ptr[I]=f._values.length}}else if(F<T){var nr=0;for(U=0;U<I;U++){f._ptr[U]=f._ptr[U]-nr;var er=f._ptr[U],Q=f._ptr[U+1]-nr;for(k=er;k<Q;k++)P=f._index[k],P>F-1&&(f._values.splice(k,1),f._index.splice(k,1),nr++)}f._ptr[U]=f._values.length}return f._size[0]=F,f._size[1]=m,f}t.prototype.reshape=function(f,F){if(!Zr(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(sr){if(!kr(sr)||!Lr(sr)||sr<=-2||sr===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Qr(f)+")")});var m=this._size[0]*this._size[1];f=ku(f,m);var A=f[0]*f[1];if(m!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=F?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return b;for(var B=[],C=0;C<b._ptr.length;C++)for(var w=0;w<b._ptr[C+1]-b._ptr[C];w++)B.push(C);for(var T=b._values.slice(),I=b._index.slice(),P=0;P<b._index.length;P++){var U=I[P],k=B[P],R=U*b._size[1]+k;B[P]=R%f[1],I[P]=Math.floor(R/f[1])}b._values.length=0,b._index.length=0,b._ptr.length=f[1]+1,b._size=f.slice();for(var ir=0;ir<b._ptr.length;ir++)b._ptr[ir]=0;for(var nr=0;nr<T.length;nr++){var er=I[nr],Q=B[nr],fr=T[nr],or=g(er,b._ptr[Q],b._ptr[Q+1],b._index);o(or,er,Q,fr,b._values,b._index,b._ptr)}return b},t.prototype.clone=function(){var f=new t({values:this._values?Xr(this._values):void 0,index:Xr(this._index),ptr:Xr(this._ptr),size:Xr(this._size),datatype:this._datatype});return f},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(f,F){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var m=this,A=this._size[0],b=this._size[1],B=vo(f),C=function(T,I,P){return B===1?f(T):B===2?f(T,[I,P]):f(T,[I,P],m)};return v(this,0,A-1,0,b-1,C,F)};function v(f,F,m,A,b,B,C){var w=[],T=[],I=[],P=n,U=0;Se(f._datatype)&&(P=e.find(n,[f._datatype,f._datatype])||n,U=e.convert(0,f._datatype));for(var k=function(Fr,Rr,Ur){Fr=B(Fr,Rr,Ur),P(Fr,U)||(w.push(Fr),T.push(Rr))},R=A;R<=b;R++){I.push(w.length);var ir=f._ptr[R],nr=f._ptr[R+1];if(C)for(var er=ir;er<nr;er++){var Q=f._index[er];Q>=F&&Q<=m&&k(f._values[er],Q-F,R-A)}else{for(var fr={},or=ir;or<nr;or++){var sr=f._index[or];fr[sr]=f._values[or]}for(var vr=F;vr<=m;vr++){var Nr=vr in fr?fr[vr]:0;k(Nr,vr-F,R-A)}}}return I.push(w.length),new t({values:w,index:T,ptr:I,size:[m-F+1,b-A+1]})}t.prototype.forEach=function(f,F){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var m=this,A=this._size[0],b=this._size[1],B=0;B<b;B++){var C=this._ptr[B],w=this._ptr[B+1];if(F)for(var T=C;T<w;T++){var I=this._index[T];f(this._values[T],[I,B],m)}else{for(var P={},U=C;U<w;U++){var k=this._index[U];P[k]=this._values[U]}for(var R=0;R<A;R++){var ir=R in P?P[R]:0;f(ir,[R,B],m)}}}},t.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],F=0;F<f;F++)for(var m=this._ptr[F],A=this._ptr[F+1],b=m;b<A;b++){var B=this._index[b];yield{value:this._values[b],index:[B,F]}}},t.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},t.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)};function y(f,F,m,A,b){var B=A[0],C=A[1],w=[],T,I;for(T=0;T<B;T++)for(w[T]=[],I=0;I<C;I++)w[T][I]=0;for(I=0;I<C;I++)for(var P=m[I],U=m[I+1],k=P;k<U;k++)T=F[k],w[T][I]=f?b?Xr(f[k]):f[k]:1;return w}return t.prototype.format=function(f){for(var F=this._size[0],m=this._size[1],A=this.density(),b="Sparse Matrix ["+Qr(F,f)+" x "+Qr(m,f)+"] density: "+Qr(A,f)+`
`,B=0;B<m;B++)for(var C=this._ptr[B],w=this._ptr[B+1],T=C;T<w;T++){var I=this._index[T];b+=`
    (`+Qr(I,f)+", "+Qr(B,f)+") ==> "+(this._values?Qr(this._values[T],f):"X")}return b},t.prototype.toString=function(){return Qr(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(f){if(f){if(jr(f)&&(f=f.toNumber()),!kr(f)||!Lr(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var F=f>0?f:0,m=f<0?-f:0,A=this._size[0],b=this._size[1],B=Math.min(A-m,b-F),C=[],w=[],T=[];T[0]=0;for(var I=F;I<b&&C.length<B;I++)for(var P=this._ptr[I],U=this._ptr[I+1],k=P;k<U;k++){var R=this._index[k];if(R===I-F+m){C.push(this._values[k]),w[C.length-1]=R-m;break}}return T.push(C.length),new t({values:C,index:w,ptr:T,size:[B,1]})},t.fromJSON=function(f){return new t(f)},t.diagonal=function(f,F,m,A,b){if(!Zr(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(sr){if(jr(sr)&&(sr=sr.toNumber()),!kr(sr)||!Lr(sr)||sr<1)throw new Error("Size values must be positive integers");return sr}),m){if(jr(m)&&(m=m.toNumber()),!kr(m)||!Lr(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var B=n,C=0;Se(b)&&(B=e.find(n,[b,b])||n,C=e.convert(0,b));var w=m>0?m:0,T=m<0?-m:0,I=f[0],P=f[1],U=Math.min(I-T,P-w),k;if(Zr(F)){if(F.length!==U)throw new Error("Invalid value array length");k=function(vr){return F[vr]}}else if(ee(F)){var R=F.size();if(R.length!==1||R[0]!==U)throw new Error("Invalid matrix length");k=function(vr){return F.get([vr])}}else k=function(){return F};for(var ir=[],nr=[],er=[],Q=0;Q<P;Q++){er.push(ir.length);var fr=Q-w;if(fr>=0&&fr<U){var or=k(fr);B(or,C)||(nr.push(fr+T),ir.push(or))}}return er.push(ir.length),new t({values:ir,index:nr,ptr:er,size:[I,P]})},t.prototype.swapRows=function(f,F){if(!kr(f)||!Lr(f)||!kr(F)||!Lr(F))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Hr(f,this._size[0]),Hr(F,this._size[0]),t._swapRows(f,F,this._size[1],this._values,this._index,this._ptr),this},t._forEachRow=function(f,F,m,A,b){for(var B=A[f],C=A[f+1],w=B;w<C;w++)b(m[w],F[w])},t._swapRows=function(f,F,m,A,b,B){for(var C=0;C<m;C++){var w=B[C],T=B[C+1],I=g(f,w,T,b),P=g(F,w,T,b);if(I<T&&P<T&&b[I]===f&&b[P]===F){if(A){var U=A[I];A[I]=A[P],A[P]=U}continue}if(I<T&&b[I]===f&&(P>=T||b[P]!==F)){var k=A?A[I]:void 0;b.splice(P,0,F),A&&A.splice(P,0,k),b.splice(P<=I?I+1:I,1),A&&A.splice(P<=I?I+1:I,1);continue}if(P<T&&b[P]===F&&(I>=T||b[I]!==f)){var R=A?A[P]:void 0;b.splice(I,0,f),A&&A.splice(I,0,R),b.splice(I<=P?P+1:P,1),A&&A.splice(I<=P?P+1:P,1)}}},t},{isClass:!0}),zh="number",kh=["typed"];function Rh(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],u=e[2],t=e[3];return{input:r,radix:n,integerPart:u,fractionalPart:t}}else return null}function Lh(r){for(var e=parseInt(r.integerPart,r.radix),n=0,u=0;u<r.fractionalPart.length;u++){var t=parseInt(r.fractionalPart[u],r.radix);n+=t/Math.pow(r.radix,u+1)}var i=e+n;if(isNaN(i))throw new SyntaxError('String "'+r.input+'" is not a valid number');return i}var qh=yr(zh,kh,r=>{var{typed:e}=r,n=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var i=Rh(t);if(i)return Lh(i);var h=0,p=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);p&&(h=Number(p[2]),t=p[1]);var D=Number(t);if(isNaN(D))throw new SyntaxError('String "'+t+'" is not a valid number');if(p){if(D>je(2,h)-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));D>=je(2,h-1)&&(D=D-je(2,h))}return D},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:e.referToSelf(u=>t=>{var i=t.clone();return i.value=u(t.value),i}),null:function(t){return 0},"Unit, string | Unit":function(t,i){return t.toNumber(i)},"Array | Matrix":e.referToSelf(u=>t=>Ye(t,u))});return n.fromJSON=function(u){return parseFloat(u.value)},n}),Uh="bignumber",Zh=["typed","BigNumber"],Hh=yr(Uh,Zh,r=>{var{typed:e,BigNumber:n}=r;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var i=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var h=i[2],p=n(i[1]),D=new n(2).pow(Number(h));if(p.gt(D.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var g=new n(2).pow(Number(h)-1);return p.gte(g)?p.sub(D):p}return new n(t)},BigNumber:function(t){return t},Unit:e.referToSelf(u=>t=>{var i=t.clone();return i.value=u(t.value),i}),Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":e.referToSelf(u=>t=>Ye(t,u))})}),Gh="fraction",Vh=["typed","Fraction"],Yh=yr(Gh,Vh,r=>{var{typed:e,Fraction:n}=r;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,i){return new n(t,i)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Unit:e.referToSelf(u=>t=>{var i=t.clone();return i.value=u(t.value),i}),Object:function(t){return new n(t)},"Array | Matrix":e.referToSelf(u=>t=>Ye(t,u))})}),ha="matrix",Wh=["typed","Matrix","DenseMatrix","SparseMatrix"],Xh=yr(ha,Wh,r=>{var{typed:e,Matrix:n,DenseMatrix:u,SparseMatrix:t}=r;return e(ha,{"":function(){return i([])},string:function(p){return i([],p)},"string, string":function(p,D){return i([],p,D)},Array:function(p){return i(p)},Matrix:function(p){return i(p,p.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(h,p,D){if(p==="dense"||p==="default"||p===void 0)return new u(h,D);if(p==="sparse")return new t(h,D);throw new TypeError("Unknown matrix type "+JSON.stringify(p)+".")}}),va="unaryMinus",Jh=["typed"],Qh=yr(va,Jh,r=>{var{typed:e}=r;return e(va,{number:bo,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:e.referToSelf(n=>u=>{var t=u.clone();return t.value=e.find(n,t.valueType())(u.value),t}),"Array | Matrix":e.referToSelf(n=>u=>Ye(u,n))})}),pa="abs",jh=["typed"],Kh=yr(pa,jh,r=>{var{typed:e}=r;return e(pa,{number:Do,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":e.referToSelf(n=>u=>Ye(u,n))})}),da="addScalar",r1=["typed"],e1=yr(da,r1,r=>{var{typed:e}=r;return e(da,{"number, number":go,"Complex, Complex":function(u,t){return u.add(t)},"BigNumber, BigNumber":function(u,t){return u.plus(t)},"Fraction, Fraction":function(u,t){return u.add(t)},"Unit, Unit":e.referToSelf(n=>(u,t)=>{if(u.value===null||u.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(t))throw new Error("Units do not match");var i=u.clone();return i.value=e.find(n,[i.valueType(),t.valueType()])(i.value,t.value),i.fixPrefix=!1,i})})}),Da="subtractScalar",t1=["typed"],n1=yr(Da,t1,r=>{var{typed:e}=r;return e(Da,{"number, number":mo,"Complex, Complex":function(u,t){return u.sub(t)},"BigNumber, BigNumber":function(u,t){return u.minus(t)},"Fraction, Fraction":function(u,t){return u.sub(t)},"Unit, Unit":e.referToSelf(n=>(u,t)=>{if(u.value===null||u.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(t))throw new Error("Units do not match");var i=u.clone();return i.value=e.find(n,[i.valueType(),t.valueType()])(i.value,t.value),i.fixPrefix=!1,i})})}),u1="matAlgo11xS0s",i1=["typed","equalScalar"],a1=yr(u1,i1,r=>{var{typed:e,equalScalar:n}=r;return function(t,i,h,p){var D=t._values,g=t._index,s=t._ptr,o=t._size,l=t._datatype;if(!D)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=o[0],y=o[1],f,F=n,m=0,A=h;typeof l=="string"&&(f=l,F=e.find(n,[f,f]),m=e.convert(0,f),i=e.convert(i,f),A=e.find(h,[f,f]));for(var b=[],B=[],C=[],w=0;w<y;w++){C[w]=B.length;for(var T=s[w],I=s[w+1],P=T;P<I;P++){var U=g[P],k=p?A(i,D[P]):A(D[P],i);F(k,m)||(B.push(U),b.push(k))}}return C[y]=B.length,t.createSparseMatrix({values:b,index:B,ptr:C,size:[v,y],datatype:f})}}),o1="matAlgo14xDs",s1=["typed"],f1=yr(o1,s1,r=>{var{typed:e}=r;return function(t,i,h,p){var D=t._data,g=t._size,s=t._datatype,o,l=h;typeof s=="string"&&(o=s,i=e.convert(i,o),l=e.find(h,[o,o]));var v=g.length>0?n(l,0,g,g[0],D,i,p):[];return t.createDenseMatrix({data:v,size:Xr(g),datatype:o})};function n(u,t,i,h,p,D,g){var s=[];if(t===i.length-1)for(var o=0;o<h;o++)s[o]=g?u(D,p[o]):u(p[o],D);else for(var l=0;l<h;l++)s[l]=n(u,t+1,i,i[t+1],p[l],D,g);return s}}),c1="multiplyScalar",l1=["typed"],h1=yr(c1,l1,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":wo,"Complex, Complex":function(u,t){return u.mul(t)},"BigNumber, BigNumber":function(u,t){return u.times(t)},"Fraction, Fraction":function(u,t){return u.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(n,u)=>u.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,u)=>n.multiply(u)})}),ga="multiply",v1=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],p1=yr(ga,v1,r=>{var{typed:e,matrix:n,addScalar:u,multiplyScalar:t,equalScalar:i,dot:h}=r,p=a1({typed:e,equalScalar:i}),D=f1({typed:e});function g(C,w){switch(C.length){case 1:switch(w.length){case 1:if(C[0]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(C[0]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+C[0]+") must match Matrix rows ("+w[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+w.length+" dimensions)")}break;case 2:switch(w.length){case 1:if(C[1]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+C[1]+") must match Vector length ("+w[0]+")");break;case 2:if(C[1]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+C[1]+") must match Matrix B rows ("+w[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+w.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+C.length+" dimensions)")}}function s(C,w,T){if(T===0)throw new Error("Cannot multiply two empty vectors");return h(C,w)}function o(C,w){if(w.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return l(C,w)}function l(C,w){var T=C._data,I=C._size,P=C._datatype||C.getDataType(),U=w._data,k=w._size,R=w._datatype||w.getDataType(),ir=I[0],nr=k[1],er,Q=u,fr=t;P&&R&&P===R&&typeof P=="string"&&P!=="mixed"&&(er=P,Q=e.find(u,[er,er]),fr=e.find(t,[er,er]));for(var or=[],sr=0;sr<nr;sr++){for(var vr=fr(T[0],U[0][sr]),Nr=1;Nr<ir;Nr++)vr=Q(vr,fr(T[Nr],U[Nr][sr]));or[sr]=vr}return C.createDenseMatrix({data:or,size:[nr],datatype:P===C._datatype&&R===w._datatype?er:void 0})}var v=e("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":A}),y=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":F,"DenseMatrix, SparseMatrix":m,"SparseMatrix, DenseMatrix":b,"SparseMatrix, SparseMatrix":B});function f(C,w){var T=C._data,I=C._size,P=C._datatype||C.getDataType(),U=w._data,k=w._datatype||w.getDataType(),R=I[0],ir=I[1],nr,er=u,Q=t;P&&k&&P===k&&typeof P=="string"&&P!=="mixed"&&(nr=P,er=e.find(u,[nr,nr]),Q=e.find(t,[nr,nr]));for(var fr=[],or=0;or<R;or++){for(var sr=T[or],vr=Q(sr[0],U[0]),Nr=1;Nr<ir;Nr++)vr=er(vr,Q(sr[Nr],U[Nr]));fr[or]=vr}return C.createDenseMatrix({data:fr,size:[R],datatype:P===C._datatype&&k===w._datatype?nr:void 0})}function F(C,w){var T=C._data,I=C._size,P=C._datatype||C.getDataType(),U=w._data,k=w._size,R=w._datatype||w.getDataType(),ir=I[0],nr=I[1],er=k[1],Q,fr=u,or=t;P&&R&&P===R&&typeof P=="string"&&P!=="mixed"&&P!=="mixed"&&(Q=P,fr=e.find(u,[Q,Q]),or=e.find(t,[Q,Q]));for(var sr=[],vr=0;vr<ir;vr++){var Nr=T[vr];sr[vr]=[];for(var Er=0;Er<er;Er++){for(var Fr=or(Nr[0],U[0][Er]),Rr=1;Rr<nr;Rr++)Fr=fr(Fr,or(Nr[Rr],U[Rr][Er]));sr[vr][Er]=Fr}}return C.createDenseMatrix({data:sr,size:[ir,er],datatype:P===C._datatype&&R===w._datatype?Q:void 0})}function m(C,w){var T=C._data,I=C._size,P=C._datatype||C.getDataType(),U=w._values,k=w._index,R=w._ptr,ir=w._size,nr=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!U)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var er=I[0],Q=ir[1],fr,or=u,sr=t,vr=i,Nr=0;P&&nr&&P===nr&&typeof P=="string"&&P!=="mixed"&&(fr=P,or=e.find(u,[fr,fr]),sr=e.find(t,[fr,fr]),vr=e.find(i,[fr,fr]),Nr=e.convert(0,fr));for(var Er=[],Fr=[],Rr=[],Ur=w.createSparseMatrix({values:Er,index:Fr,ptr:Rr,size:[er,Q],datatype:P===C._datatype&&nr===w._datatype?fr:void 0}),Wr=0;Wr<Q;Wr++){Rr[Wr]=Fr.length;var Ir=R[Wr],ie=R[Wr+1];if(ie>Ir)for(var Br=0,Mr=0;Mr<er;Mr++){for(var ve=Mr+1,Kr=void 0,xr=Ir;xr<ie;xr++){var Gr=k[xr];Br!==ve?(Kr=sr(T[Mr][Gr],U[xr]),Br=ve):Kr=or(Kr,sr(T[Mr][Gr],U[xr]))}Br===ve&&!vr(Kr,Nr)&&(Fr.push(Mr),Er.push(Kr))}}return Rr[Q]=Fr.length,Ur}function A(C,w){var T=C._values,I=C._index,P=C._ptr,U=C._datatype||C._data===void 0?C._datatype:C.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var k=w._data,R=w._datatype||w.getDataType(),ir=C._size[0],nr=w._size[0],er=[],Q=[],fr=[],or,sr=u,vr=t,Nr=i,Er=0;U&&R&&U===R&&typeof U=="string"&&U!=="mixed"&&(or=U,sr=e.find(u,[or,or]),vr=e.find(t,[or,or]),Nr=e.find(i,[or,or]),Er=e.convert(0,or));var Fr=[],Rr=[];fr[0]=0;for(var Ur=0;Ur<nr;Ur++){var Wr=k[Ur];if(!Nr(Wr,Er))for(var Ir=P[Ur],ie=P[Ur+1],Br=Ir;Br<ie;Br++){var Mr=I[Br];Rr[Mr]?Fr[Mr]=sr(Fr[Mr],vr(Wr,T[Br])):(Rr[Mr]=!0,Q.push(Mr),Fr[Mr]=vr(Wr,T[Br]))}}for(var ve=Q.length,Kr=0;Kr<ve;Kr++){var xr=Q[Kr];er[Kr]=Fr[xr]}return fr[1]=Q.length,C.createSparseMatrix({values:er,index:Q,ptr:fr,size:[ir,1],datatype:U===C._datatype&&R===w._datatype?or:void 0})}function b(C,w){var T=C._values,I=C._index,P=C._ptr,U=C._datatype||C._data===void 0?C._datatype:C.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var k=w._data,R=w._datatype||w.getDataType(),ir=C._size[0],nr=w._size[0],er=w._size[1],Q,fr=u,or=t,sr=i,vr=0;U&&R&&U===R&&typeof U=="string"&&U!=="mixed"&&(Q=U,fr=e.find(u,[Q,Q]),or=e.find(t,[Q,Q]),sr=e.find(i,[Q,Q]),vr=e.convert(0,Q));for(var Nr=[],Er=[],Fr=[],Rr=C.createSparseMatrix({values:Nr,index:Er,ptr:Fr,size:[ir,er],datatype:U===C._datatype&&R===w._datatype?Q:void 0}),Ur=[],Wr=[],Ir=0;Ir<er;Ir++){Fr[Ir]=Er.length;for(var ie=Ir+1,Br=0;Br<nr;Br++){var Mr=k[Br][Ir];if(!sr(Mr,vr))for(var ve=P[Br],Kr=P[Br+1],xr=ve;xr<Kr;xr++){var Gr=I[xr];Wr[Gr]!==ie?(Wr[Gr]=ie,Er.push(Gr),Ur[Gr]=or(Mr,T[xr])):Ur[Gr]=fr(Ur[Gr],or(Mr,T[xr]))}}for(var pe=Fr[Ir],Fe=Er.length,Ee=pe;Ee<Fe;Ee++){var Me=Er[Ee];Nr[Ee]=Ur[Me]}}return Fr[er]=Er.length,Rr}function B(C,w){var T=C._values,I=C._index,P=C._ptr,U=C._datatype||C._data===void 0?C._datatype:C.getDataType(),k=w._values,R=w._index,ir=w._ptr,nr=w._datatype||w._data===void 0?w._datatype:w.getDataType(),er=C._size[0],Q=w._size[1],fr=T&&k,or,sr=u,vr=t;U&&nr&&U===nr&&typeof U=="string"&&U!=="mixed"&&(or=U,sr=e.find(u,[or,or]),vr=e.find(t,[or,or]));for(var Nr=fr?[]:void 0,Er=[],Fr=[],Rr=C.createSparseMatrix({values:Nr,index:Er,ptr:Fr,size:[er,Q],datatype:U===C._datatype&&nr===w._datatype?or:void 0}),Ur=fr?[]:void 0,Wr=[],Ir,ie,Br,Mr,ve,Kr,xr,Gr,pe=0;pe<Q;pe++){Fr[pe]=Er.length;var Fe=pe+1;for(ve=ir[pe],Kr=ir[pe+1],Mr=ve;Mr<Kr;Mr++)if(Gr=R[Mr],fr)for(ie=P[Gr],Br=P[Gr+1],Ir=ie;Ir<Br;Ir++)xr=I[Ir],Wr[xr]!==Fe?(Wr[xr]=Fe,Er.push(xr),Ur[xr]=vr(k[Mr],T[Ir])):Ur[xr]=sr(Ur[xr],vr(k[Mr],T[Ir]));else for(ie=P[Gr],Br=P[Gr+1],Ir=ie;Ir<Br;Ir++)xr=I[Ir],Wr[xr]!==Fe&&(Wr[xr]=Fe,Er.push(xr));if(fr)for(var Ee=Fr[pe],Me=Er.length,Pe=Ee;Pe<Me;Pe++){var et=Er[Pe];Nr[Pe]=Ur[et]}}return Fr[Q]=Er.length,Rr}return e(ga,t,{"Array, Array":e.referTo("Matrix, Matrix",C=>(w,T)=>{g(be(w),be(T));var I=C(n(w),n(T));return ee(I)?I.valueOf():I}),"Matrix, Matrix":function(w,T){var I=w.size(),P=T.size();return g(I,P),I.length===1?P.length===1?s(w,T,I[0]):o(w,T):P.length===1?v(w,T):y(w,T)},"Matrix, Array":e.referTo("Matrix,Matrix",C=>(w,T)=>C(w,n(T))),"Array, Matrix":e.referToSelf(C=>(w,T)=>C(n(w,T.storage()),T)),"SparseMatrix, any":function(w,T){return p(w,T,t,!1)},"DenseMatrix, any":function(w,T){return D(w,T,t,!1)},"any, SparseMatrix":function(w,T){return p(T,w,t,!0)},"any, DenseMatrix":function(w,T){return D(T,w,t,!0)},"Array, any":function(w,T){return D(n(w),T,t,!1).valueOf()},"any, Array":function(w,T){return D(n(T),w,t,!0).valueOf()},"any, any":t,"any, any, ...any":e.referToSelf(C=>(w,T,I)=>{for(var P=C(w,T),U=0;U<I.length;U++)P=C(P,I[U]);return P})})}),ma="conj",d1=["typed"],D1=yr(ma,d1,r=>{var{typed:e}=r;return e(ma,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":e.referToSelf(n=>u=>Ye(u,n))})}),wa="identity",g1=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],m1=yr(wa,g1,r=>{var{typed:e,config:n,matrix:u,BigNumber:t,DenseMatrix:i,SparseMatrix:h}=r;return e(wa,{"":function(){return n.matrix==="Matrix"?u([]):[]},string:function(s){return u(s)},"number | BigNumber":function(s){return D(s,s,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(s,o){return D(s,s,o)},"number | BigNumber, number | BigNumber":function(s,o){return D(s,o,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(s,o,l){return D(s,o,l)},Array:function(s){return p(s)},"Array, string":function(s,o){return p(s,o)},Matrix:function(s){return p(s.valueOf(),s.storage())},"Matrix, string":function(s,o){return p(s.valueOf(),o)}});function p(g,s){switch(g.length){case 0:return s?u(s):[];case 1:return D(g[0],g[0],s);case 2:return D(g[0],g[1],s);default:throw new Error("Vector containing two values expected")}}function D(g,s,o){var l=jr(g)||jr(s)?t:null;if(jr(g)&&(g=g.toNumber()),jr(s)&&(s=s.toNumber()),!Lr(g)||g<1)throw new Error("Parameters in function identity must be positive integers");if(!Lr(s)||s<1)throw new Error("Parameters in function identity must be positive integers");var v=l?new t(1):1,y=l?new l(0):0,f=[g,s];if(o){if(o==="sparse")return h.diagonal(f,v,0,y);if(o==="dense")return i.diagonal(f,v,0,y);throw new TypeError('Unknown matrix type "'.concat(o,'"'))}for(var F=_u([],f,y),m=g<s?g:s,A=0;A<m;A++)F[A][A]=v;return F}});function w1(){throw new Error('No "bignumber" implementation available')}function b1(){throw new Error('No "fraction" implementation available')}function y1(){throw new Error('No "matrix" implementation available')}var ba="size",F1=["typed","config","?matrix"],E1=yr(ba,F1,r=>{var{typed:e,config:n,matrix:u}=r;return e(ba,{Matrix:function(i){return i.create(i.size())},Array:be,string:function(i){return n.matrix==="Array"?[i.length]:u([i.length])},"number | Complex | BigNumber | Unit | boolean | null":function(i){return n.matrix==="Array"?[]:u?u([]):y1()}})}),A1="numeric",C1=["number","?bignumber","?fraction"],_1=yr(A1,C1,r=>{var{number:e,bignumber:n,fraction:u}=r,t={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:h=>e(h),BigNumber:n?h=>n(h):w1,Fraction:u?h=>u(h):b1};return function(p){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",g=arguments.length>2?arguments[2]:void 0;if(g!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var s=mt(p);if(!(s in t))throw new TypeError("Cannot convert "+p+' of type "'+s+'"; valid input types are '+Object.keys(t).join(", "));if(!(D in i))throw new TypeError("Cannot convert "+p+' to type "'+D+'"; valid output types are '+Object.keys(i).join(", "));return D===s?p:i[D](p)}}),ya="divideScalar",N1=["typed","numeric"],B1=yr(ya,N1,r=>{var{typed:e,numeric:n}=r;return e(ya,{"number, number":function(t,i){return t/i},"Complex, Complex":function(t,i){return t.div(i)},"BigNumber, BigNumber":function(t,i){return t.div(i)},"Fraction, Fraction":function(t,i){return t.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(u,t)=>u.divide(t),"number | Fraction | Complex | BigNumber, Unit":(u,t)=>t.divideInto(u)})}),Fa="pow",M1=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],S1=yr(Fa,M1,r=>{var{typed:e,config:n,identity:u,multiply:t,matrix:i,inv:h,number:p,fraction:D,Complex:g}=r;return e(Fa,{"number, number":s,"Complex, Complex":function(y,f){return y.pow(f)},"BigNumber, BigNumber":function(y,f){return f.isInteger()||y>=0||n.predictable?y.pow(f):new g(y.toNumber(),0).pow(f.toNumber(),0)},"Fraction, Fraction":function(y,f){var F=y.pow(f);if(F!=null)return F;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return s(y.valueOf(),f.valueOf())},"Array, number":o,"Array, BigNumber":function(y,f){return o(y,f.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(y,f){return l(y,f.toNumber())},"Unit, number | BigNumber":function(y,f){return y.pow(f)}});function s(v,y){if(n.predictable&&!Lr(y)&&v<0)try{var f=D(y),F=p(f);if((y===F||Math.abs((y-F)/y)<1e-14)&&f.d%2===1)return(f.n%2===0?1:-1)*Math.pow(-v,y)}catch(m){}return n.predictable&&(v<-1&&y===1/0||v>-1&&v<0&&y===-1/0)?NaN:Lr(y)||v>=0||n.predictable?yo(v,y):v*v<1&&y===1/0||v*v>1&&y===-1/0?0:new g(v,0).pow(y,0)}function o(v,y){if(!Lr(y))throw new TypeError("For A^b, b must be an integer (value is "+y+")");var f=be(v);if(f.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+f.length+" dimensions)");if(f[0]!==f[1])throw new Error("For A^b, A must be square (size is "+f[0]+"x"+f[1]+")");if(y<0)try{return o(h(v),-y)}catch(A){throw A.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+y+")"):A}for(var F=u(f[0]).valueOf(),m=v;y>=1;)(y&1)===1&&(F=t(m,F)),y>>=1,m=t(m,m);return F}function l(v,y){return i(o(v.valueOf(),y))}}),Ea="dot",T1=["typed","addScalar","multiplyScalar","conj","size"],x1=yr(Ea,T1,r=>{var{typed:e,addScalar:n,multiplyScalar:u,conj:t,size:i}=r;return e(Ea,{"Array | DenseMatrix, Array | DenseMatrix":p,"SparseMatrix, SparseMatrix":D});function h(s,o){var l=g(s),v=g(o),y,f;if(l.length===1)y=l[0];else if(l.length===2&&l[1]===1)y=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(v.length===1)f=v[0];else if(v.length===2&&v[1]===1)f=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(y!==f)throw new RangeError("Vectors must have equal length ("+y+" != "+f+")");if(y===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return y}function p(s,o){var l=h(s,o),v=ee(s)?s._data:s,y=ee(s)?s._datatype||s.getDataType():void 0,f=ee(o)?o._data:o,F=ee(o)?o._datatype||o.getDataType():void 0,m=g(s).length===2,A=g(o).length===2,b=n,B=u;if(y&&F&&y===F&&typeof y=="string"&&y!=="mixed"){var C=y;b=e.find(n,[C,C]),B=e.find(u,[C,C])}if(!m&&!A){for(var w=B(t(v[0]),f[0]),T=1;T<l;T++)w=b(w,B(t(v[T]),f[T]));return w}if(!m&&A){for(var I=B(t(v[0]),f[0][0]),P=1;P<l;P++)I=b(I,B(t(v[P]),f[P][0]));return I}if(m&&!A){for(var U=B(t(v[0][0]),f[0]),k=1;k<l;k++)U=b(U,B(t(v[k][0]),f[k]));return U}if(m&&A){for(var R=B(t(v[0][0]),f[0][0]),ir=1;ir<l;ir++)R=b(R,B(t(v[ir][0]),f[ir][0]));return R}}function D(s,o){h(s,o);for(var l=s._index,v=s._values,y=o._index,f=o._values,F=0,m=n,A=u,b=0,B=0;b<l.length&&B<y.length;){var C=l[b],w=y[B];if(C<w){b++;continue}if(C>w){B++;continue}C===w&&(F=m(F,A(v[b],f[B])),b++,B++)}return F}function g(s){return ee(s)?s.size():i(s)}}),Aa="det",$1=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],O1=yr(Aa,$1,r=>{var{typed:e,matrix:n,subtractScalar:u,multiply:t,divideScalar:i,isZero:h,unaryMinus:p}=r;return e(Aa,{any:function(s){return Xr(s)},"Array | Matrix":function(s){var o;switch(ee(s)?o=s.size():Array.isArray(s)?(s=n(s),o=s.size()):o=[],o.length){case 0:return Xr(s);case 1:if(o[0]===1)return Xr(s.valueOf()[0]);if(o[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Qr(o)+")");case 2:{var l=o[0],v=o[1];if(l===v)return D(s.clone().valueOf(),l);if(v===0)return 1;throw new RangeError("Matrix must be square (size: "+Qr(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Qr(o)+")")}}});function D(g,s,o){if(s===1)return Xr(g[0][0]);if(s===2)return u(t(g[0][0],g[1][1]),t(g[1][0],g[0][1]));for(var l=!1,v=new Array(s).fill(0).map((T,I)=>I),y=0;y<s;y++){var f=v[y];if(h(g[f][y])){var F=void 0;for(F=y+1;F<s;F++)if(!h(g[v[F]][y])){f=v[F],v[F]=v[y],v[y]=f,l=!l;break}if(F===s)return g[f][y]}for(var m=g[f][y],A=y===0?1:g[v[y-1]][y-1],b=y+1;b<s;b++)for(var B=v[b],C=y+1;C<s;C++)g[B][C]=i(u(t(g[B][C],m),t(g[B][y],g[f][C])),A)}var w=g[v[s-1]][s-1];return l?p(w):w}}),Ca="inv",I1=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],P1=yr(Ca,I1,r=>{var{typed:e,matrix:n,divideScalar:u,addScalar:t,multiply:i,unaryMinus:h,det:p,identity:D,abs:g}=r;return e(Ca,{"Array | Matrix":function(l){var v=ee(l)?l.size():be(l);switch(v.length){case 1:if(v[0]===1)return ee(l)?n([u(1,l.valueOf()[0])]):[u(1,l[0])];throw new RangeError("Matrix must be square (size: "+Qr(v)+")");case 2:{var y=v[0],f=v[1];if(y===f)return ee(l)?n(s(l.valueOf(),y,f),l.storage()):s(l,y,f);throw new RangeError("Matrix must be square (size: "+Qr(v)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Qr(v)+")")}},any:function(l){return u(1,l)}});function s(o,l,v){var y,f,F,m,A;if(l===1){if(m=o[0][0],m===0)throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,m)]]}else if(l===2){var b=p(o);if(b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[u(o[1][1],b),u(h(o[0][1]),b)],[u(h(o[1][0]),b),u(o[0][0],b)]]}else{var B=o.concat();for(y=0;y<l;y++)B[y]=B[y].concat();for(var C=D(l).valueOf(),w=0;w<v;w++){var T=g(B[w][w]),I=w;for(y=w+1;y<l;)g(B[y][w])>T&&(T=g(B[y][w]),I=y),y++;if(T===0)throw Error("Cannot calculate inverse, determinant is zero");y=I,y!==w&&(A=B[w],B[w]=B[y],B[y]=A,A=C[w],C[w]=C[y],C[y]=A);var P=B[w],U=C[w];for(y=0;y<l;y++){var k=B[y],R=C[y];if(y!==w){if(k[w]!==0){for(F=u(h(k[w]),P[w]),f=w;f<v;f++)k[f]=t(k[f],i(F,P[f]));for(f=0;f<v;f++)R[f]=t(R[f],i(F,U[f]))}}else{for(F=P[w],f=w;f<v;f++)k[f]=u(k[f],F);for(f=0;f<v;f++)R[f]=u(R[f],F)}}}return C}}}),_a="combinations",z1=["typed"],k1=yr(_a,z1,r=>{var{typed:e}=r;return e(_a,{"number, number":Fo,"BigNumber, BigNumber":function(u,t){var i=u.constructor,h,p,D=u.minus(t),g=new i(1);if(!Na(u)||!Na(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(u))throw new TypeError("k must be less than n in function combinations");if(h=g,t.lt(D))for(p=g;p.lte(D);p=p.plus(g))h=h.times(t.plus(p)).dividedBy(p);else for(p=g;p.lte(t);p=p.plus(g))h=h.times(D.plus(p)).dividedBy(p);return h}})});function Na(r){return r.isInteger()&&r.gte(0)}var Lu=lh({config:Et}),Ao=dh({}),Co=wh({}),qu=Fh({}),Uu=Ch({Matrix:qu}),Yr=pl({BigNumber:Lu,Complex:Ao,DenseMatrix:Uu,Fraction:Co}),R1=Kh({typed:Yr}),Zu=e1({typed:Yr}),L1=Hh({BigNumber:Lu,typed:Yr}),q1=k1({typed:Yr}),U1=D1({typed:Yr}),_o=$h({config:Et,typed:Yr}),Z1=Bh({typed:Yr}),No=h1({typed:Yr}),Bo=qh({typed:Yr}),Mo=Ph({Matrix:qu,equalScalar:_o,typed:Yr}),H1=n1({typed:Yr}),So=Qh({typed:Yr}),To=Yh({Fraction:Co,typed:Yr}),Ct=Xh({DenseMatrix:Uu,Matrix:qu,SparseMatrix:Mo,typed:Yr}),G1=_1({bignumber:L1,fraction:To,number:Bo}),V1=E1({matrix:Ct,config:Et,typed:Yr}),xo=B1({numeric:G1,typed:Yr}),$o=m1({BigNumber:Lu,DenseMatrix:Uu,SparseMatrix:Mo,config:Et,matrix:Ct,typed:Yr}),Y1=x1({addScalar:Zu,conj:U1,multiplyScalar:No,size:V1,typed:Yr}),Hu=p1({addScalar:Zu,dot:Y1,equalScalar:_o,matrix:Ct,multiplyScalar:No,typed:Yr}),W1=O1({divideScalar:xo,isZero:Z1,matrix:Ct,multiply:Hu,subtractScalar:H1,typed:Yr,unaryMinus:So}),X1=P1({abs:R1,addScalar:Zu,det:W1,divideScalar:xo,identity:$o,matrix:Ct,multiply:Hu,typed:Yr,unaryMinus:So}),Ba=S1({Complex:Ao,config:Et,fraction:To,identity:$o,inv:X1,matrix:Ct,multiply:Hu,number:Bo,typed:Yr});const Eu="#2F65A7",Ma=300,Oo=10,Ou=3,rt=30,Io=20,J1=1e3,Q1=1e3,j1=3e3,ln=Math.max(Ou,Oo,rt/2)+5,Ke=document.querySelector("svg"),jt=document.querySelector("#num-levels"),Kt=document.querySelector("#ball-count"),rn=document.querySelector("#prob-right"),Wt=document.querySelector("#do-drop"),Au=document.querySelector("#speed"),Dt=[],St=[],Xt=[];function Po(){Array.from(Ke.children).forEach(v=>v.remove());const r=parseInt(Kt.value),e=parseInt(jt.value),n=parseFloat(rn.value),u=mu.scale(["#FEFEFE","#DDD",Eu,"#000"]).domain([0,.01,.1,1]),t=(e-1)*rt+2*ln,i=(e-1)*Io+2*ln+Ma,h=Math.round((e-1)*n),p=Ta(e-1,h,n),D=.5*Ma/p;Ke.setAttribute("width",t),Ke.setAttribute("height",i);const g=[];for(let v=0;v<e;v++){const y=[];g.push(y);const f=[];Dt.push(f);for(let F=e-v-1;F<=e+v-1;F+=2){g[v][F]=0;const{x:m,y:A}=Jt(F,v),b=$a(m,A,Ou,u(0).hex(),"none",Ke);v===0&&b.setAttribute("fill",u(1).hex()),Dt[v][F]=b}}for(let v=0;v<2*e-1;v+=2){const{x:y,y:f}=Jt(v,e-1),F=f+Ou+2,m=xa(y-rt/2,F,rt,0,Eu,"none",Ke);St.push(m);const A=Ta(e-1,Math.floor(v/2),n),b=xa(y-rt/2,F,rt,D*A,"rgba(0, 0, 0, 0.1)",u(A).hex(),Ke);Xt.push(b)}function s(){return Du(this,null,function*(){let v=0,y=e-1;const{x:f,y:F}=Jt(y,v),m=mu(Eu).darken(Math.random()*2-1).saturate(Math.random()*2-1).hex(),A=$a(f,F,Oo,m,mu(m).darken().hex(),Ke);A.setAttribute("opacity",.9);for(let U=0;U<e-1;U++){const k=Q1/parseFloat(Au.value);v++,Math.random()<n?y++:y--;const{x:R,y:ir}=Jt(y,v);yield Sa(A,R,ir,k);const nr=Dt[v][y];g[v][y]++,nr.setAttribute("fill",u(g[v][y]/r).hex())}const b=g[e-1][y],B=Math.floor(y/2),C=D*b/r,w=j1/parseFloat(Au.value),T=K1(St[B],C,w),I=rv(A,0,w),P=Sa(A,parseFloat(A.getAttribute("cx")),parseFloat(A.getAttribute("cy"))+20,w);yield Promise.all([T,I,P]),A.remove()})}function o(){return Du(this,null,function*(){mn(),Wt.setAttribute("disabled",!0),jt.setAttribute("disabled",!0),Kt.setAttribute("disabled",!0),rn.setAttribute("disabled",!0);const v=[];for(let y=0;y<r;y++){const f=s();yield uv(Math.random()*J1/parseFloat(Au.value)),v.push(f)}yield Promise.all(v),Wt.removeAttribute("disabled"),jt.removeAttribute("disabled"),Kt.removeAttribute("disabled"),rn.removeAttribute("disabled")})}Wt.addEventListener("click",o);function l(){Xt.forEach(v=>v.remove()),Xt.splice(0,Xt.length),St.forEach(v=>v.remove()),St.splice(0,St.length),Dt.forEach(v=>v.forEach(y=>y.remove())),Dt.splice(0,Dt.length),Wt.removeEventListener("click",o)}return l}function Gu(r,e,n,u,t){return new Promise(i=>{const h=Date.now();function p(){const D=(Date.now()-h)/u,g=t(D),s=e+(n-e)*g;r(s,g),D<1?requestAnimationFrame(p):(r(n,1),i())}requestAnimationFrame(p)})}function K1(r,e,n){const u=parseFloat(r.getAttribute("height"));return Gu(t=>{r.setAttribute("height",t)},u,e,n,tv)}function Sa(r,e,n,u){const t=parseFloat(r.getAttribute("cx")),i=parseFloat(r.getAttribute("cy"));return Gu((h,p)=>{r.setAttribute("cx",t+(e-t)*p),r.setAttribute("cy",i+(n-i)*p)},0,1,u,nv)}function rv(r,e,n){const u=parseFloat(r.getAttribute("opacity")||1);return Gu(t=>{r.setAttribute("opacity",t)},u,e,n,ev)}function ev(r){return r}function tv(r){return r*(2-r)}function nv(r){return r*r}function Ta(r,e,n){return q1(r,e)*Ba(n,e)*Ba(1-n,r-e)}function Jt(r,e){return{x:ln+r*(rt/2),y:ln+e*Io}}function uv(r){return new Promise(e=>setTimeout(e,r))}function xa(r,e,n,u,t,i,h){const p=document.createElementNS("http://www.w3.org/2000/svg","rect");return p.setAttribute("x",r),p.setAttribute("y",e),p.setAttribute("width",n),p.setAttribute("height",u),p.setAttribute("fill",t),p.setAttribute("stroke",i),h.append(p),p}function $a(r,e,n,u,t,i){const h=document.createElementNS("http://www.w3.org/2000/svg","circle");return h.setAttribute("cx",r),h.setAttribute("cy",e),h.setAttribute("r",n),h.setAttribute("fill",u),h.setAttribute("stroke",t),i.append(h),h}jt.addEventListener("input",mn);rn.addEventListener("input",mn);Kt.addEventListener("input",mn);let Oa=Po();function mn(){Oa(),Oa=Po()}
